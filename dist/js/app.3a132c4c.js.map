{"version":3,"file":"js/app.3a132c4c.js","mappings":"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","sources":["webpack://Lemon's_Universe/./src/App.vue","webpack://Lemon's_Universe/src/App.vue","webpack://Lemon's_Universe/./src/App.vue?c036","webpack://Lemon's_Universe/./src/App.vue?0e40","webpack://Lemon's_Universe/./src/pages/Academic/Academic.vue","webpack://Lemon's_Universe/./src/components/Menu/Menu.vue","webpack://Lemon's_Universe/src/components/Menu/Menu.vue","webpack://Lemon's_Universe/./src/components/Menu/Menu.vue?770b","webpack://Lemon's_Universe/./src/components/Menu/Menu.vue?0f8a","webpack://Lemon's_Universe/src/pages/Academic/Academic.vue","webpack://Lemon's_Universe/./src/pages/Academic/Academic.vue?aea3","webpack://Lemon's_Universe/./src/pages/Academic/Academic.vue?c932","webpack://Lemon's_Universe/./src/pages/Learn/Learn.vue","webpack://Lemon's_Universe/src/pages/Learn/Learn.vue","webpack://Lemon's_Universe/./src/pages/Learn/Learn.vue?68ab","webpack://Lemon's_Universe/./src/pages/Learn/Learn.vue?b70f","webpack://Lemon's_Universe/./src/pages/Learn/Class.vue","webpack://Lemon's_Universe/./src/pages/Learn/components/PdfViewer.vue","webpack://Lemon's_Universe/src/pages/Learn/components/PdfViewer.vue","webpack://Lemon's_Universe/./src/pages/Learn/components/PdfViewer.vue?9808","webpack://Lemon's_Universe/./src/pages/Learn/components/PdfViewer.vue?8346","webpack://Lemon's_Universe/src/pages/Learn/Class.vue","webpack://Lemon's_Universe/./src/pages/Learn/Class.vue?1797","webpack://Lemon's_Universe/./src/pages/Learn/Class.vue?a13f","webpack://Lemon's_Universe/./src/pages/Post/Post.vue","webpack://Lemon's_Universe/./src/pages/Post/components/SelfIntro.vue","webpack://Lemon's_Universe/src/pages/Post/components/SelfIntro.vue","webpack://Lemon's_Universe/./src/pages/Post/components/SelfIntro.vue?0a45","webpack://Lemon's_Universe/./src/pages/Post/components/SelfIntro.vue?9356","webpack://Lemon's_Universe/src/pages/Post/Post.vue","webpack://Lemon's_Universe/./src/pages/Post/Post.vue?91f6","webpack://Lemon's_Universe/./src/pages/Post/Post.vue?f4c7","webpack://Lemon's_Universe/./src/pages/Post/pages/Share.vue","webpack://Lemon's_Universe/src/pages/Post/pages/Share.vue","webpack://Lemon's_Universe/./src/pages/Post/pages/Share.vue?f486","webpack://Lemon's_Universe/./src/pages/Post/pages/Share.vue?2e18","webpack://Lemon's_Universe/./src/pages/Post/pages/Normal.vue","webpack://Lemon's_Universe/src/pages/Post/pages/Normal.vue","webpack://Lemon's_Universe/./src/pages/Post/pages/Normal.vue?8429","webpack://Lemon's_Universe/./src/pages/Post/pages/Normal.vue?1d4c","webpack://Lemon's_Universe/./src/pages/Login/Login.vue","webpack://Lemon's_Universe/src/pages/Login/Login.vue","webpack://Lemon's_Universe/./src/pages/Login/Login.vue?bbf0","webpack://Lemon's_Universe/./src/pages/Login/Login.vue?736a","webpack://Lemon's_Universe/./src/pages/InfoPage/StudentInfo.vue","webpack://Lemon's_Universe/src/pages/InfoPage/StudentInfo.vue","webpack://Lemon's_Universe/./src/pages/InfoPage/StudentInfo.vue?83bd","webpack://Lemon's_Universe/./src/pages/InfoPage/StudentInfo.vue?c92b","webpack://Lemon's_Universe/./src/pages/InfoPage/TeacherInfo.vue","webpack://Lemon's_Universe/src/pages/InfoPage/TeacherInfo.vue","webpack://Lemon's_Universe/./src/pages/InfoPage/TeacherInfo.vue?6920","webpack://Lemon's_Universe/./src/pages/InfoPage/TeacherInfo.vue?a358","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/StudentCourseTable.vue","webpack://Lemon's_Universe/src/pages/InfoPage/pages/StudentCourseTable.vue","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/StudentCourseTable.vue?64d3","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/StudentCourseTable.vue?a916","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/TeacherCourseTable.vue","webpack://Lemon's_Universe/src/pages/InfoPage/pages/TeacherCourseTable.vue","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/TeacherCourseTable.vue?5e74","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/TeacherCourseTable.vue?3ce8","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/ClientTable.vue","webpack://Lemon's_Universe/src/pages/InfoPage/pages/ClientTable.vue","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/ClientTable.vue?75b1","webpack://Lemon's_Universe/./src/pages/InfoPage/pages/ClientTable.vue?63b2","webpack://Lemon's_Universe/./src/pages/Index/Index.vue","webpack://Lemon's_Universe/src/pages/Index/Index.vue","webpack://Lemon's_Universe/./src/pages/Index/Index.vue?77b5","webpack://Lemon's_Universe/./src/pages/Index/Index.vue?d924","webpack://Lemon's_Universe/./src/pages/InfoPage/ModifyInfo.vue","webpack://Lemon's_Universe/src/pages/InfoPage/ModifyInfo.vue","webpack://Lemon's_Universe/./src/pages/InfoPage/ModifyInfo.vue?9b21","webpack://Lemon's_Universe/./src/pages/InfoPage/ModifyInfo.vue?2e25","webpack://Lemon's_Universe/./src/router/index.js","webpack://Lemon's_Universe/./src/main.js","webpack://Lemon's_Universe/webpack/bootstrap","webpack://Lemon's_Universe/webpack/runtime/amd options","webpack://Lemon's_Universe/webpack/runtime/chunk loaded","webpack://Lemon's_Universe/webpack/runtime/compat get default export","webpack://Lemon's_Universe/webpack/runtime/define property getters","webpack://Lemon's_Universe/webpack/runtime/global","webpack://Lemon's_Universe/webpack/runtime/hasOwnProperty shorthand","webpack://Lemon's_Universe/webpack/runtime/make namespace object","webpack://Lemon's_Universe/webpack/runtime/node module decorator","webpack://Lemon's_Universe/webpack/runtime/jsonp chunk loading","webpack://Lemon's_Universe/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport jsCookie from 'js-cookie'\nimport axios from 'axios'\nexport default {\n  name: 'App',\n  async mounted(){\n    this.$bus.$on('handleAlert',this.handleAlert)\n    this.$bus.$on('copyToClipboard',this.copyToClipboard)\n    await this.setAnonymousMode();\n    await this.generateFingerprint();\n  },\n  computed:{\n  },\n  methods:{\n    handleAlert(title,message,type){\n      // success, warning, info, error\n      this.$notify({title,message,type});\n    },\n    copyToClipboard(title, text) {\n      if (!text) return;\n      navigator.clipboard.writeText(text)\n      .then(() => {\n        this.$bus.$emit('handleAlert',title,'已複製到剪貼簿','success');\n      })\n      .catch(() => {});\n    },\n    async setAnonymousMode(){\n      const authToken = jsCookie.get('authToken');\n      if(!authToken){\n        let data;\n        try{\n          const res = await axios.post('/login/anonymous',null,\n          {\n            headers:{\n              'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n            }\n          })\n          data = res.data;\n          if(data.type == 'success'){\n            this.$bus.$currentUser = res.data.userInfo\n            this.$bus.$emit('setUserInfo')\n          }\n        }\n        catch(e){}\n      }\n    },\n    async generateFingerprint() {\n        // 如果已經存在 localStorage，直接返回\n        const storedFP = localStorage.getItem('deviceFingerprint');\n        if (storedFP) return storedFP;\n\n        const components = [];\n\n        // 瀏覽器 / 裝置資訊\n        components.push(navigator.userAgent);\n        components.push(navigator.language);\n        components.push(navigator.platform);\n        components.push(screen.width + 'x' + screen.height);\n        components.push(screen.colorDepth);\n\n        // Plugins / MimeTypes\n        const plugins = Array.from(navigator.plugins || []).map(p => p.name).join(',');\n        components.push(plugins);\n\n        const mimeTypes = Array.from(navigator.mimeTypes || []).map(m => m.type).join(',');\n        components.push(mimeTypes);\n\n        // 時區\n        components.push(Intl.DateTimeFormat().resolvedOptions().timeZone);\n\n        // Canvas Fingerprint\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        ctx.textBaseline = 'top';\n        ctx.font = '16px Arial';\n        ctx.fillText('Fingerprint test', 2, 2);\n        const canvasHash = ctx.getImageData(0, 0, canvas.width, canvas.height).data.join(',');\n        components.push(canvasHash);\n\n        // Combine all components\n        const rawString = components.join('||');\n\n        let hashHex;\n\n        try {\n            // 嘗試使用 crypto.subtle\n            if (window.crypto && crypto.subtle) {\n                const buffer = new TextEncoder().encode(rawString);\n                const hashBuffer = await crypto.subtle.digest('SHA-256', buffer);\n                const hashArray = Array.from(new Uint8Array(hashBuffer));\n                hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n            } else {\n                // fallback 使用 js-sha256\n                hashHex = sha256(rawString);\n            }\n        } catch (e) {\n            console.warn('Fingerprint SHA-256 error, fallback to js-sha256', e);\n            hashHex = sha256(rawString);\n        }\n\n        // 存到 localStorage\n        localStorage.setItem('deviceFingerprint', hashHex);\n\n        return hashHex;\n    }\n  }\n}\n</script>\n\n<style>\n  ::-webkit-scrollbar{\n    display: none;\n  }\n  #app {\n    overflow: hidden;\n  }\n  img, canvas {\n    -webkit-user-drag: none;\n    user-select: none;\n    pointer-events: none; /* 如果需要完全不能操作 */\n  }\n</style>\n\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=62cd6ae8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=62cd6ae8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"menu\"},[_c('Menu')],1),_c('div',{staticClass:\"view\"},[_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('router-view')],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu\"},[_c('div',{class:{user:true,list_selected: _vm.$route.path.includes('/login') || _vm.$route.path.includes('Info')},on:{\"click\":function($event){_vm.isLogin?_vm.goTo(`/academic/${_vm.userInfo.typeEng}Info`):_vm.goTo('/academic/login')}}},[_c('div',{class:{list_selected_flag:_vm.$route.path.includes('/login') || _vm.$route.path.includes('Info')},staticStyle:{\"height\":\"130px\",\"position\":\"absolute\",\"box-sizing\":\"border-box\"}}),_c('div',{staticClass:\"img_block\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openImgUpload()}}},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.userInfo.userImgUrl?_vm.userInfo.userImgUrl:'img/user.png',\"alt\":\"\"}}),_c('div',{staticClass:\"img_upload\"},[_vm._v(\"變更頭像 \"),_c('input',{ref:\"img_upload_file\",staticClass:\"img_upload_file\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.uploadUserImg()}}})])]),_c('div',{class:`username ${_vm.isLogin?'username_login':''}`},[_vm._v(\" \"+_vm._s(_vm.isLogin?`${_vm.userInfo.name}`:'登入/註冊')+\" \"),_c('div',[_vm._v(\"Lv\"+_vm._s(_vm.userInfo.level? `${_vm.userInfo.level.level} ${_vm.userInfo.level.levelTitle}`:'')+\" \")])])]),_c('div',{class:{list:true,list_lock:!_vm.isLogin,list_selected: _vm.$route.path.includes('/post')},on:{\"click\":function($event){return _vm.goTo('/academic/post')}}},[_c('div',{class:{list_selected_flag:_vm.$route.path.includes('/post')}}),(!_vm.isLogin)?_c('i',{staticClass:\"fa-solid fa-lock lock\"}):_vm._e(),_vm._v(\" 平台公告 \")]),_c('div',{class:{list:true,list_lock:!_vm.isLogin,list_selected: (_vm.$route.path.includes('/learn') || _vm.$route.path.includes('/class'))},on:{\"click\":function($event){_vm.isLogin?_vm.goTo('/academic/learn'):''}}},[_c('div',{class:{list_selected_flag:_vm.$route.path.includes('/learn')  || _vm.$route.path.includes('/class')}}),(!_vm.isLogin)?_c('i',{staticClass:\"fa-solid fa-lock lock\"}):_vm._e(),_vm._v(\" 專欄列表 \")]),(_vm.isLogin)?_c('div',{class:{list:true},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"登出系統\")]):_vm._e(),_c('div',{staticClass:\"footer\",on:{\"click\":function($event){return _vm.goTo('/')}}},[_c('img',{staticClass:\"footer_img\",attrs:{\"src\":\"img/horizontal_logo_white.png\",\"alt\":\"\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"menu\">\n    <div :class=\"{user:true,list_selected: $route.path.includes('/login') || $route.path.includes('Info')}\"\n         @click=\"isLogin?goTo(`/academic/${userInfo.typeEng}Info`):goTo('/academic/login')\">\n        <div :class=\"{list_selected_flag:$route.path.includes('/login') || $route.path.includes('Info')}\" style=\"height: 130px; position: absolute; box-sizing: border-box;\"></div>\n        <div class=\"img_block\" @click.stop=\"openImgUpload()\">\n            <img class=\"img\" :src=\"userInfo.userImgUrl?userInfo.userImgUrl:'img/user.png'\" alt=\"\">\n            <div class=\"img_upload\">變更頭像\n                <input type=\"file\" @change=\"uploadUserImg()\" class=\"img_upload_file\" ref=\"img_upload_file\" accept=\"image/*\">\n            </div>\n        </div>\n        <div :class=\"`username ${isLogin?'username_login':''}`\">\n            {{ isLogin?`${userInfo.name}`:'登入/註冊' }}\n            <div>Lv{{ userInfo.level? `${userInfo.level.level} ${userInfo.level.levelTitle}`:''}} </div>\n        </div>\n    </div>\n    <div @click=\"goTo('/academic/post')\" :class=\"{list:true,list_lock:!isLogin,list_selected: $route.path.includes('/post')}\">\n        <div :class=\"{list_selected_flag:$route.path.includes('/post')}\"></div>\n        <i class=\"fa-solid fa-lock lock\" v-if=\"!isLogin\"></i>\n        平台公告\n    </div>\n    <div @click=\"isLogin?goTo('/academic/learn'):''\" :class=\"{list:true,list_lock:!isLogin,list_selected: ($route.path.includes('/learn') || $route.path.includes('/class'))}\">\n        <div :class=\"{list_selected_flag:$route.path.includes('/learn')  || $route.path.includes('/class')}\"></div>\n        <i class=\"fa-solid fa-lock lock\" v-if=\"!isLogin\"></i>\n        專欄列表\n    </div>\n    <!-- <div @click=\"isLogin?goTo('/academic/practice'):''\" :class=\"{list:true,list_lock:!isLogin,list_selected: $route.path.includes('/practice')}\"><i class=\"fa-solid fa-lock lock\" v-if=\"!isLogin\"></i>課後練習</div> -->\n    <div v-if=\"isLogin\" :class=\"{list:true}\" @click=\"logout()\">登出系統</div>\n    <div class=\"footer\" @click=\"goTo('/')\"><img class=\"footer_img\" src=\"img/horizontal_logo_white.png\" alt=\"\" > </div>\n  </div>\n</template>\n\n<script>\nimport jsCookie from 'js-cookie'\nimport axios from 'axios'\nexport default {\n    name:'Menu',\n    data(){\n        return{\n            isLogin:false,\n            userInfo:{\n                account:'',\n                name:'',\n                userImgUrl:'',\n                typeEng:'',\n                type:''\n            }\n        }\n    },\n    mounted(){\n        this.$bus.$on('setUserInfo',this.setUserInfo)\n        this.$bus.$on('updateCurrentUser',this.updateCurrentUser)\n    },\n    methods:{\n        openImgUpload(){\n            let el = this.$refs['img_upload_file'];\n            el.click();\n        },\n        async uploadUserImg(){\n            try{\n                const token = jsCookie.get('authToken')\n\n                let el = this.$refs['img_upload_file'];\n                let file = el.files[0];\n                if (!file) return;\n\n                await this.$confirm(`確認修改頭貼?`, '提示', {\n                    confirmButtonText: '確認',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                })\n                let formData = new FormData();\n                formData.append(\"attachments\", file);\n\n                const res = await axios.post(\"/api/userInfo/updateIcon\", formData, {\n                    headers: {\n                        \"Content-Type\": \"multipart/form-data\",\n                        \"x-user-token\": token,\n                    },\n                })\n                if(res.data.type == 'success'){\n                    this.updateCurrentUser();\n                    this.$bus.$emit('handleAlert','頭像上傳通知',res.data.message,res.data.type)\n                }\n                else this.$bus.$emit('handleAlert','頭像上傳通知',res.data.message,res.data.type)\n            }\n            catch(e){\n                console.log(e)\n            }\n            finally{\n                this.$refs['img_upload_file'].value = '';\n            }\n        },\n        async updateCurrentUser(){\n            const token = jsCookie.get('authToken')\n            const res = await axios.post('/login/token',{save:true},{\n                headers:{\n                    'x-user-token':token,\n                    'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n                }\n            })\n            if(res.data.type == 'success'){\n                this.$bus.$currentUser = res.data.userInfo;\n                this.setUserInfo();\n            }\n        },\n        goTo(path){\n            this.$router.push(path).catch((e)=>{})\n        },\n        setUserInfo(){\n            const userInfo = this.$bus.$currentUser\n            if(userInfo) this.isLogin = true;\n            userInfo.userImgUrl += `?${new Date().getTime()}`\n            this.userInfo = userInfo\n        },\n        logout(){\n            this.$confirm('確認是否登出系統?', '提示', {\n                confirmButtonText: '登出',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                jsCookie.remove('authToken')\n                this.isLogin = false;\n                this.$bus.$currentUser = {}\n                this.userInfo = {}\n                this.$bus.$emit('handleAlert','登出訊息','登出成功！','success')\n                this.$router.replace('/academic/login').catch((e)=>{})\n            }).catch(() => {});\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .menu{\n        width: 250px;\n        height: 100vh;\n        background: black;\n        position: relative;\n    }\n    .user{\n        width: 100%;\n        height: 130px;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n        color:white;\n    }\n    .img_block{\n        width: 90px;\n        height: 90px;\n        background: white;\n        border-radius: 90px;\n        overflow: hidden;\n        position: relative;\n    }\n    .img{\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n    }\n    .img_upload{\n        position: absolute;\n        width: 100%;\n        height: 30px;\n        line-height: 30px;\n        color: white;\n        font-size: 10px;\n        text-align: center;\n        background-color: rgba(0,0,0,0.5);\n        left: 0;\n        bottom: -30px;\n        transition: bottom 0.75s;\n    }\n    .img_block:hover{\n        cursor: pointer;\n    }\n    .img_block:hover .img_upload{\n        bottom: 0;\n    }\n    .img_upload_file{\n        display: none;\n    }\n    .username{\n        width: 120px;\n        height: 60px;\n        line-height: 60px;\n        text-align: center;\n        overflow-y: scroll;\n    }\n    .username_login{\n        line-height: 30px;\n    }\n    .list{\n        width:100%;\n        height: 60px;\n        line-height: 60px;\n        text-align: center;\n        color: white;\n        transition: all 1s;\n    }\n    .lock{\n        margin-right: 20px;\n    }\n    .user:hover,.list:hover,.list_selected{\n        cursor: pointer;\n        background: rgba(255,255,255,0.15);\n        color: white;\n    }\n    .list_selected_flag{\n        position: absolute;\n        left: 0;\n        width: 5px;\n        height: 60px;\n        background: white;\n        transition: all 1s;\n    }\n    .list_lock{\n        cursor: not-allowed !important;\n    }\n    .footer{\n        width:95%;\n        height: 60px;\n        position: absolute;\n        bottom: 15px;\n        left:2.5%;\n    }\n    .footer>img{\n        width: 100%;\n        margin: 0 auto;\n    }\n    .footer:hover{\n        cursor: pointer;\n    }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=16f46102&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=16f46102&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16f46102\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"body\">\n    <div class=\"menu\">\n      <Menu></Menu>\n    </div>\n    <div class=\"view\">\n      <transition name=\"slide-fade\">\n        <router-view></router-view>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Menu from '../../components/Menu/Menu.vue'\nimport jsCookie from 'js-cookie'\nimport axios from 'axios'\nexport default {\n  name:'Academic',\n  components:{\n    Menu\n  },\n  data(){\n    return {\n      text:''\n    }\n  },\n  mounted(){\n    this.checkToken()\n  },\n  methods:{\n    async checkToken(){\n      const token = jsCookie.get('authToken')\n\n      if(!token) return\n\n      const res = await axios.post('/login/token',{save:true},{\n        headers:{\n          'x-user-token':token,\n          'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n        }\n      })\n      if(res.data.type == 'success'){\n        this.$bus.$currentUser = res.data.userInfo;\n        this.$bus.$emit('setUserInfo')\n      }\n      else {\n        jsCookie.remove('authToken');\n        this.$bus.$currentUser = {};\n        this.$bus.$emit('handleAlert','使用者權限異常通知',res.data.message,res.data.type)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .body{\n    display: flex;\n  }\n  .menu{\n    width: 250px;\n    min-width: 250px;\n    height: 100vh;\n  }\n  .view{\n    width: calc(100vw - 250px);\n    min-width: 1190px;\n    height: 100vh;\n  }\n  .slide-fade-enter-active {\n    transition: opacity .3s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n  }\n\n  .slide-fade-leave-active {\n    display: none;\n  }\n\n  .slide-fade-enter {\n    /* transform: translateX(100%); */\n    opacity: 0;\n  }\n\n  .slide-fade-leave-to {\n    /* transform: translateX(100%); */\n    opacity: 0;\n  }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Academic.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Academic.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Academic.vue?vue&type=template&id=f2683d58&scoped=true\"\nimport script from \"./Academic.vue?vue&type=script&lang=js\"\nexport * from \"./Academic.vue?vue&type=script&lang=js\"\nimport style0 from \"./Academic.vue?vue&type=style&index=0&id=f2683d58&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2683d58\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"header\"},[_c('i',{staticClass:\"fa-solid fa-signs-post post_icon\"}),_vm._v(\"專欄列表 \"),_c('div',{staticClass:\"searchBox\"},[_c('i',{staticClass:\"fa-solid fa-magnifying-glass search_icon\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"search\",attrs:{\"type\":\"text\",\"placeholder\":\"關鍵字查詢（主題, 代號, 作者名,...）\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})])]),(_vm.searchCourse.length)?_c('div',{staticClass:\"classList\"},_vm._l((_vm.searchCourse),function(courses,id){return _c('div',{key:id,staticClass:\"classItem\",on:{\"click\":function($event){return _vm.goToClass(courses.idx)}}},[_c('div',{staticClass:\"banner\"},[_c('el-carousel',{staticClass:\"carousel\",attrs:{\"width\":\"100%\",\"height\":\"175px\",\"autoplay\":false}},_vm._l((courses.bannerImg),function(item){return _c('el-carousel-item',{key:item.url},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\"}],staticClass:\"bannerImg\",attrs:{\"src\":\"img/Loading.gif\",\"data-src\":item.url,\"alt\":\"\",\"loading\":\"lazy\"}})])}),1)],1),_c('div',{staticClass:\"className\"},[_vm._v(_vm._s(courses.courseName))]),_c('div',{staticClass:\"classNum\"},[_vm._v(_vm._s(courses.courseId))]),_c('div',{staticClass:\"lecturer\"},[_vm._v(_vm._s(courses.lecturer))])])}),0):_c('div',{staticClass:\"classList_empty\"},[_c('el-empty',{attrs:{\"description\":\"暫無專欄\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 線上影音 -->\n<template>\n  <div class=\"view\">\n    <div class=\"header\">\n      <i class=\"fa-solid fa-signs-post post_icon\"></i>專欄列表\n      <div class=\"searchBox\">\n        <i class=\"fa-solid fa-magnifying-glass search_icon\"></i><input type=\"text\" class=\"search\" placeholder=\"關鍵字查詢（主題, 代號, 作者名,...）\" v-model=\"search\">\n      </div>\n    </div>\n    <div class=\"classList\" v-if=\"searchCourse.length\">\n      <div class=\"classItem\" v-for=\"(courses,id) in searchCourse\" :key=\"id\" @click=\"goToClass(courses.idx)\">\n        <div class=\"banner\">\n          <el-carousel class=\"carousel\" width=\"100%\" height=\"175px\" :autoplay=\"false\">\n            <el-carousel-item v-for=\"item in courses.bannerImg\" :key=\"item.url\">\n              <img src=\"img/Loading.gif\" :data-src=\"item.url\" alt=\"\" v-lazy class=\"bannerImg\" loading=\"lazy\">\n            </el-carousel-item>\n          </el-carousel>\n        </div>\n        <div class=\"className\">{{ courses.courseName }}</div>\n        <div class=\"classNum\">{{courses.courseId}}</div>\n        <div class=\"lecturer\">{{ courses.lecturer }}</div>\n      </div>\n    </div>\n    <div class=\"classList_empty\" v-else>\n      <el-empty description=\"暫無專欄\"></el-empty>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport jsCookie from 'js-cookie';\nexport default {\n  name:'Learn',\n  data(){\n    return {\n      search:'',\n      courseList:[]\n    }\n  },\n  mounted(){\n    this.getCourse();\n  },\n  computed:{\n    searchCourse() {\n      const keyword = this.search.trim().toLowerCase();\n      if (!keyword) return this.courseList;\n\n      return this.courseList.filter(course => {\n        return course.courseName.toLowerCase().includes(keyword) ||\n              course.courseId.toLowerCase().includes(keyword) ||\n              course.lecturer.toLowerCase().includes(keyword)\n      });\n    }\n  },\n  methods:{\n    async getCourse(){\n      const token = jsCookie.get('authToken')\n\n      if(!token) return\n\n      const res = await axios.get('/api/learn/getCourse',{\n        headers:{\n          'x-user-token':token\n        }\n      })\n      const data = res.data;\n      if(data.type == 'success'){\n        this.courseList = data.courses;\n      }\n      else this.$bus.$emit('handleAlert','專欄資料查詢通知',res.data.message,res.data.type)\n    },\n    goToClass(idx){\n      this.$router.push({\n        path:'class',\n        query:{\n          idx:idx\n        }\n      }).catch(e=>{})\n    },\n  }\n}\n</script>\n\n<style scoped>\n  .view{\n    width: calc(100vw - 250px);\n    height: 100vh;\n  }\n  .header{\n    height: 80px;\n    width: 95%;\n    line-height: 80px;\n    font-size: 24px;\n    margin-left: 20px;\n    padding-left: 10px;\n    position: relative;\n    font-weight: bolder;\n  }\n  .post_icon{\n    margin-right: 10px;\n  }\n  .searchBox{\n    height: 40px;\n    width: 400px;\n    position: absolute;\n    top:20px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: left;\n    border: 2px solid black;\n    border-radius: 40px;\n    box-sizing: border-box;\n  }\n  .search_icon{\n    width: 40px;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .search{\n    width: 340px;\n    height: 30px;\n    line-height: 30px;\n    font-size: 16px;\n    box-sizing: border-box;\n    border: none;\n    margin-right: 20px;\n  }\n  .search:focus{\n    outline: none;\n  }\n  .search::placeholder{\n    font-size: 14px;\n  }\n  .classList{\n    width: 95%;\n    margin: 0 auto;\n    margin-left: 20px;\n    height: calc(100vh - 120px);\n    overflow-x: hidden;\n    overflow-y: scroll;\n    padding: 10px;\n    /* grid */\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 350px);\n    grid-auto-rows: 245px;\n    gap: 25px;\n    row-gap: 20px;\n    align-items: start;\n    justify-content: start;\n  }\n  .classList_empty{\n    width: 100%;\n    height: calc(100vh - 81px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .classItem{\n    width: 350px;\n    height: 245px;\n    box-shadow: 1px 2px 3px gray;\n    position: relative;\n    transition: all 1s;\n  }\n  .classItem:hover{\n    cursor: pointer;\n    box-shadow: 4px 6px 9px gray;\n  }\n  .banner{\n    width: 100%;\n    height: 175px;\n  }\n  .bannerImg{\n    width: 100%;\n    height: 100%;\n    object-position: center;\n    object-fit: cover;\n  }\n  .className{\n    width: 100%;\n    height: 30px;\n    font-size: 18px;\n    line-height: 30px;\n    margin-left: 10px;\n    margin-top: 5px;\n    overflow: hidden;\n    color:rgb(64, 121, 170);    \n  }\n  .classNum{\n    position: absolute;\n    left:10px;\n    font-size: 14px;\n    bottom: 10px;\n    color: gray;\n  }\n  .lecturer{\n    position: absolute;\n    right:10px;\n    font-size: 14px;\n    bottom: 10px;\n    color: gray;\n  }\n  ::v-deep .el-carousel__indicator{\n    display: none;\n  }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Learn.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Learn.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Learn.vue?vue&type=template&id=09743188&scoped=true\"\nimport script from \"./Learn.vue?vue&type=script&lang=js\"\nexport * from \"./Learn.vue?vue&type=script&lang=js\"\nimport style0 from \"./Learn.vue?vue&type=style&index=0&id=09743188&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09743188\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"box\"},[(!_vm.materials.length)?_c('div',{staticClass:\"pdf pdf_empty\"},[_c('el-empty',{attrs:{\"description\":\"本專欄暫無資料\"}})],1):_c('div',{staticClass:\"pdf\"},[_c('pdf-viewer',{attrs:{\"pdfUrl\":_vm.pdfUrl}})],1),_c('div',{staticClass:\"column\"},[(_vm.showUploadOption)?_c('div',{staticClass:\"list_add\",on:{\"click\":function($event){return _vm.openUpload()}}},[_c('i',{staticClass:\"fa-solid fa-cloud-arrow-up upload_icon\"}),_vm._v(\"Upload Chapter\")]):_c('div',{staticClass:\"list_add\",on:{\"click\":function($event){return _vm.toggleList()}}},[_c('i',{staticClass:\"fa-solid fa-list upload_icon\"}),_vm._v(\"Chapter List\")]),_c('div',{ref:\"list_box\",staticClass:\"list_box\"},_vm._l((_vm.materials),function(chapter,id){return _c('div',{key:id,staticClass:\"list right-list\"},[_c('div',{staticClass:\"list_chapter right-list-target\",on:{\"click\":function($event){return _vm.viewChapter(chapter,id)}}},[_vm._v(\"Chapter \"+_vm._s(id+1))]),_c('div',{staticClass:\"list_title\",on:{\"click\":function($event){return _vm.viewChapter(chapter,id)}}},[_vm._v(_vm._s(chapter.title))]),(_vm.showUploadOption)?_c('div',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.openUpdate(chapter)}}},[_c('i',{staticClass:\"fa-regular fa-pen-to-square\"})]):_vm._e()])}),0)])]),_c('el-dialog',{attrs:{\"title\":\"上傳文件\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_vm._v(\" 創建章節：\"),_c('el-input',{staticClass:\"form_input\",attrs:{\"placeholder\":\"請輸入章節名稱\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}}),_vm._v(\" 文件上傳： \"),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":\"#\",\"auto-upload\":false,\"limit\":1,\"accept\":\".pdf\",\"on-change\":_vm.handleUpload,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.form.fileList}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"將文件拖到此處，或\"),_c('em',[_vm._v(\"點擊上傳\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上傳 PDF 文件\")])]),_c('el-button',{staticClass:\"sendBtn\",attrs:{\"type\":\"primary\",\"loading\":_vm.isSending,\"disabled\":(_vm.form.title =='' || _vm.form.fileList.length == 0)},on:{\"click\":function($event){(_vm.form.title =='' || _vm.form.fileList.length == 0)?'':_vm.create()}}},[_vm._v(\"確認上傳\")])],1),_c('el-dialog',{attrs:{\"title\":\"更新文件\",\"visible\":_vm.dialogTableVisible2},on:{\"update:visible\":function($event){_vm.dialogTableVisible2=$event}}},[_vm._v(\" 更新章節：\"),_c('el-input',{staticClass:\"form_input\",attrs:{\"placeholder\":\"請輸入章節名稱\"},model:{value:(_vm.update.title),callback:function ($$v) {_vm.$set(_vm.update, \"title\", $$v)},expression:\"update.title\"}}),_vm._v(\" 文件上傳： \"),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":\"#\",\"auto-upload\":false,\"limit\":1,\"accept\":\".pdf\",\"on-change\":_vm.handleUpload2,\"on-remove\":_vm.handleRemove2,\"file-list\":_vm.update.fileList}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"將文件拖到此處，或\"),_c('em',[_vm._v(\"點擊上傳\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上傳 PDF 文件\")])]),_c('el-button',{staticClass:\"sendBtn\",attrs:{\"type\":\"primary\",\"loading\":_vm.isSending2,\"disabled\":(_vm.update.title =='' || _vm.update.fileList.length == 0)},on:{\"click\":function($event){(_vm.update.title =='' || _vm.update.fileList.length == 0)?'':_vm.updateChapter()}}},[_vm._v(\"確認更新\")]),_c('el-button',{staticClass:\"sendBtn\",attrs:{\"type\":\"danger\",\"loading\":_vm.isSending3},on:{\"click\":function($event){return _vm.removeChapter()}}},[_vm._v(\"確認刪除\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pdf-wrapper\"},[(_vm.isLoading)?_c('div',{staticClass:\"pdf-loading\"},[_c('img',{attrs:{\"src\":\"img/Loading.gif\"}})]):_vm._e(),_c('div',{ref:\"pdfContainer\",staticClass:\"pdf-container\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pdf-wrapper\">\n    <div class=\"pdf-loading\" v-if=\"isLoading\"><img src=\"img/Loading.gif\"></div>\n    <div ref=\"pdfContainer\" class=\"pdf-container\"></div>\n  </div>\n</template>\n\n<script>\nimport jsCookie from 'js-cookie';\nimport * as pdfjsLib from 'pdfjs-dist/legacy/build/pdf';\nimport pdfWorker from 'pdfjs-dist/legacy/build/pdf.worker.entry';\n\nexport default {\n  name: 'PdfViewer',\n  props: {\n    pdfUrl: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isLoading: true,\n      pdf: null,\n      pageCanvases: [],\n      observer: null,\n      preloadCount: 1 // 預載頁數\n    };\n  },\n  mounted() {\n    pdfjsLib.GlobalWorkerOptions.workerSrc = pdfWorker;\n    this.loadPdf(this.pdfUrl);\n    window.addEventListener('resize', this.handleResize);\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n    if (this.observer) this.observer.disconnect();\n  },\n  methods: {\n    async loadPdf(url) {\n      this.isLoading = true;\n      const container = this.$refs.pdfContainer;\n      container.innerHTML = '';\n      this.pageCanvases = [];\n\n      try {\n        this.pdf = await pdfjsLib.getDocument({\n          url:url,\n          httpHeaders:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        }).promise;\n\n        for (let pageNum = 1; pageNum <= this.pdf.numPages; pageNum++) {\n          const canvas = document.createElement('canvas');\n          canvas.style.display = 'block';\n          canvas.style.marginBottom = '10px';\n          canvas.dataset.pageNum = pageNum;\n          container.appendChild(canvas);\n\n          this.pageCanvases.push({ pageNum, canvas, renderTask: null });\n          this.isLoading = false;\n        }\n\n        this.initObserver();\n      } \n      catch (err) {}\n    },\n    initObserver() {\n      if (this.observer) this.observer.disconnect();\n\n      this.observer = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              const pageNum = parseInt(entry.target.dataset.pageNum);\n              this.safeRenderPage(pageNum, entry.target);\n\n              // 預載下一頁\n              for (let i = 1; i <= this.preloadCount; i++) {\n                const next = this.pageCanvases.find(p => p.pageNum === pageNum + i);\n                if (next && !next.canvas.dataset.rendered) {\n                  this.safeRenderPage(next.pageNum, next.canvas);\n                }\n              }\n            }\n          });\n        },\n        { root: this.$refs.pdfContainer, threshold: 0.1 }\n      );\n\n      this.pageCanvases.forEach(({ canvas }) => {\n        this.observer.observe(canvas);\n      });\n    },\n    async safeRenderPage(pageNum, canvas) {\n      const pageObj = this.pageCanvases.find(p => p.pageNum === pageNum);\n      if (!pageObj || !this.pdf) return;\n\n      // 如果還有舊的 renderTask，在開始新渲染前取消\n      if (pageObj.renderTask) {\n        pageObj.renderTask.cancel();\n      }\n\n      const page = await this.pdf.getPage(pageNum);\n\n      const containerWidth = this.$refs.pdfContainer.clientWidth;\n      const dpr = window.devicePixelRatio || 1;\n      const viewport = page.getViewport({ scale: 1 });\n      const scale = (containerWidth / viewport.width) * dpr;\n      const scaledViewport = page.getViewport({ scale });\n\n      canvas.width = scaledViewport.width;\n      canvas.height = scaledViewport.height;\n      canvas.style.width = `${containerWidth}px`;\n      canvas.style.height = `${(scaledViewport.height / scaledViewport.width) * containerWidth}px`;\n\n      const ctx = canvas.getContext('2d');\n\n      // 建立 renderTask 並保存\n      pageObj.renderTask = page.render({ canvasContext: ctx, viewport: scaledViewport });\n\n      try {\n        await pageObj.renderTask.promise;\n        canvas.dataset.rendered = true;\n      } \n      catch (e) {} \n      finally {\n        pageObj.renderTask = null; // render 完成後清除\n      }\n    },\n    handleResize() {\n      const container = this.$refs.pdfContainer;\n      if (!this.pdf || !container) return;\n\n      this.pageCanvases.forEach(({ pageNum, canvas }) => {\n        if (!canvas.dataset.rendered) return; // 沒渲染過的不用 resize\n        this.safeRenderPage(pageNum, canvas); // 重渲染\n      });\n    }\n  },\n  watch: {\n    pdfUrl(newUrl) {\n      this.loadPdf(newUrl);\n    }\n  }\n};\n</script>\n\n<style scoped>\n  .pdf-wrapper{\n    width: 100%;\n    height: 100%;\n    position: relative;\n  }\n  .pdf-container {\n    width: 100%;\n    height: 100vh;\n    overflow: auto;\n  }\n  .pdf-loading{\n    position: absolute;\n    top:0;\n    left: 0;\n    width: 100%;\n    height: 100vh;\n    background: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PdfViewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PdfViewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PdfViewer.vue?vue&type=template&id=c4d05172&scoped=true\"\nimport script from \"./PdfViewer.vue?vue&type=script&lang=js\"\nexport * from \"./PdfViewer.vue?vue&type=script&lang=js\"\nimport style0 from \"./PdfViewer.vue?vue&type=style&index=0&id=c4d05172&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4d05172\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"view\">\n    <div class=\"box\">\n        <div class=\"pdf pdf_empty\" v-if=\"!materials.length\">\n            <el-empty description=\"本專欄暫無資料\"></el-empty>\n        </div>\n        <div class=\"pdf\" v-else>\n            <pdf-viewer :pdfUrl=\"pdfUrl\"></pdf-viewer>\n        </div>\n        <div class=\"column\">\n            <div class=\"list_add\" @click=\"openUpload()\" v-if=\"showUploadOption\"><i class=\"fa-solid fa-cloud-arrow-up upload_icon\"></i>Upload Chapter</div>\n            <div class=\"list_add\" v-else @click=\"toggleList()\"><i class=\"fa-solid fa-list upload_icon\"></i>Chapter List</div>\n            <div class=\"list_box\" ref=\"list_box\">\n                <div class=\"list right-list\" v-for=\"(chapter,id) in materials\" :key=\"id\">\n                    <div class=\"list_chapter right-list-target\" @click=\"viewChapter(chapter,id)\">Chapter {{ id+1 }}</div>\n                    <div class=\"list_title\" @click=\"viewChapter(chapter,id)\">{{ chapter.title }}</div>\n                    <div v-if=\"showUploadOption\" class=\"edit\" @click=\"openUpdate(chapter)\"><i class=\"fa-regular fa-pen-to-square\"></i></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <el-dialog title=\"上傳文件\" :visible.sync=\"dialogTableVisible\">\n        創建章節：<el-input class=\"form_input\" v-model=\"form.title\" placeholder=\"請輸入章節名稱\"></el-input>\n        文件上傳：\n        <el-upload class=\"upload-demo\" drag action=\"#\" :auto-upload=\"false\" :limit=\"1\" accept=\".pdf\" :on-change=\"handleUpload\" :on-remove=\"handleRemove\" :file-list=\"form.fileList\">\n            <i class=\"el-icon-upload\"></i>\n            <div class=\"el-upload__text\">將文件拖到此處，或<em>點擊上傳</em></div>\n            <div class=\"el-upload__tip\" slot=\"tip\">只能上傳 PDF 文件</div>\n        </el-upload>\n        <el-button type=\"primary\" class=\"sendBtn\" :loading=\"isSending\" :disabled=\"(form.title =='' || form.fileList.length == 0)\" @click=\"(form.title =='' || form.fileList.length == 0)?'':create()\">確認上傳</el-button>\n    </el-dialog>\n    <el-dialog title=\"更新文件\" :visible.sync=\"dialogTableVisible2\">\n        更新章節：<el-input class=\"form_input\" v-model=\"update.title\" placeholder=\"請輸入章節名稱\"></el-input>\n        文件上傳：\n        <el-upload class=\"upload-demo\" drag action=\"#\" :auto-upload=\"false\" :limit=\"1\" accept=\".pdf\" :on-change=\"handleUpload2\" :on-remove=\"handleRemove2\" :file-list=\"update.fileList\">\n            <i class=\"el-icon-upload\"></i>\n            <div class=\"el-upload__text\">將文件拖到此處，或<em>點擊上傳</em></div>\n            <div class=\"el-upload__tip\" slot=\"tip\">只能上傳 PDF 文件</div>\n        </el-upload>\n        <el-button type=\"primary\" class=\"sendBtn\" :loading=\"isSending2\" :disabled=\"(update.title =='' || update.fileList.length == 0)\" @click=\"(update.title =='' || update.fileList.length == 0)?'':updateChapter()\">確認更新</el-button>\n        <el-button type=\"danger\" class=\"sendBtn\" :loading=\"isSending3\" @click=\"removeChapter()\">確認刪除</el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport jsCookie from 'js-cookie';\nimport pdfViewer from './components/PdfViewer.vue';\nexport default {\n    name:'Class',\n    components:{\n        pdfViewer\n    },\n    data(){\n        return {\n            currentUser:{},\n            courseIdx:this.$route.query.idx,\n            materials:[],\n            pdfUrl:'',\n\n            // 上傳\n            form:{\n                title:'',\n                fileList:[]\n            },\n            dialogTableVisible:false,\n            attachment:[],\n            isSending:false,\n            showUploadOption:false,\n\n            // 更新\n            update:{\n                materialIdx:'',\n                title:'',\n                fileList:[],\n            },\n            dialogTableVisible2:false,\n            attachment2:[],\n            isSending2:false,\n\n            // 刪除\n            isSending3:false,\n        }\n    },\n    async mounted(){\n        await this.getData();\n        this.currentUser = this.$bus.$currentUser\n        if(this.currentUser && this.currentUser.typeEng == 'teacher') this.showUploadOption = true;\n    },\n    methods:{\n        toggleList(){\n            this.$refs['list_box'].classList.toggle('list_box_close');\n        },\n        async getData(){\n            const res = await axios.get(`/api/learn/getCourseMaterial/${this.courseIdx}`,{\n                headers:{\n                    'x-user-token':jsCookie.get('authToken')\n                }\n            });\n            this.materials = res.data.materials;\n            this.$nextTick(()=>{\n                document.querySelectorAll('.right-list-target')[0].click();\n            })\n        },\n        async viewChapter(chapter,id){\n            const lists = document.querySelectorAll('.right-list');\n            // 移除全部的 list_selected\n            lists.forEach(el => el.classList.remove('list_selected'));\n            // 幫指定 id 的加上\n            if (lists[id]) {\n                lists[id].classList.add('list_selected');\n            }\n            this.pdfUrl = chapter.attachmentUrl;\n        },\n\n        // 上傳\n        openUpload(){\n            this.dialogTableVisible = true;\n        },\n        handleUpload(file,fileList){\n            this.form.fileList = fileList\n        },\n        handleRemove(file, fileList) {\n            this.form.fileList = fileList\n        },\n        async create(){\n            try{\n                this.isSending = true;\n                let formData = new FormData();\n                formData.append('idx', this.courseIdx);\n                formData.append('title', this.form.title);\n                if (this.form.fileList && this.form.fileList.length > 0) {\n                    this.form.fileList.forEach((file, index) => {\n                        formData.append('attachments', file.raw);\n                    });\n                \n                }\n                const res = await axios.post('/api/learn/createMaterial', formData, {\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                })\n                if(res.data.type == 'success'){\n                    this.dialogTableVisible = false;\n                    this.form.title = '';\n                    this.form.fileList = [];\n                    await this.getData();\n                    this.$bus.$emit('handleAlert','章節創建通知',res.data.message, res.data.type)\n                }\n            }\n            catch(e){}\n            finally{\n                this.isSending = false;\n            }\n        },\n\n        // 更新\n        async openUpdate(chapter){\n            this.update.title = chapter.title;\n            this.update.materialIdx = chapter.idx;\n            this.dialogTableVisible2 = true;\n        },\n        handleUpload2(file,fileList){\n            this.update.fileList = fileList\n        },\n        handleRemove2(file, fileList) {\n            this.update.fileList = fileList\n        },\n        async updateChapter(){\n            try{\n                this.isSending2 = true;\n                let formData = new FormData();\n                formData.append('idx', this.courseIdx);\n                formData.append('materialIdx',this.update.materialIdx)\n                formData.append('title', this.update.title);\n                if (this.update.fileList && this.update.fileList.length > 0) {\n                    this.update.fileList.forEach((file, index) => {\n                        formData.append('attachments', file.raw);\n                    });\n                \n                }\n                const res = await axios.post('/api/learn/modifyMaterial', formData, {\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                })\n                if(res.data.type == 'success'){\n                    this.dialogTableVisible2 = false;\n                    this.update.title = '';\n                    this.update.fileList = [];\n                    this.update.materialIdx = '';\n                    await this.getData();\n                    this.$bus.$emit('handleAlert','章節更新通知',res.data.message, res.data.type)\n                }\n            }\n            catch(e){}\n            finally{\n                this.isSending2 = false;\n            }\n        },\n\n        // 刪除\n        async removeChapter(chapter){\n            this.isSending3 = true;\n            try{\n                const res = await axios.get(`/api/learn/deleteMaterial/${this.courseIdx}/${this.update.materialIdx}`,{\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                });\n                if(res.data.type == 'success'){\n                    this.dialogTableVisible2 = false;\n                    this.update.title = '';\n                    this.update.fileList = [];\n                    this.update.materialIdx = '';\n                    await this.getData();\n                    this.$bus.$emit('handleAlert','章節刪除通知',res.data.message, res.data.type)\n                }\n            }\n            catch(e){\n                \n            }\n            finally{\n                this.isSending3 = false;\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .view{\n        width: calc(100vw - 250px);\n        height: 100vh;\n    }\n    .box{\n        width:100%;\n        display: flex;\n        height: 100vh;\n    }\n    .pdf{\n        width: calc(100% - 335px);\n        height: 100vh;\n        box-sizing: border-box;\n        padding-left: 3px;\n    }\n    .pdf_empty{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .column{\n        width: 335px;\n        height: 100vh;\n        box-sizing: border-box;\n    }\n    .list_box{\n        width: 100%;\n        height: calc(100vh - 100px);\n        box-sizing: border-box;\n        overflow-y: scroll;\n        padding-left: 10px;\n        padding-right: 10px;\n        position: relative;\n        transition: all 0.5s ease;\n    }\n    .list_box_close{\n        height: 0vh;\n        opacity: 0;\n    }\n    .list_add{\n        width: calc(100% - 20px);\n        height: 80px;\n        line-height: 80px;\n        box-sizing: border-box;\n        margin: 10px;\n        text-align: center;\n        font-size: 18px;\n        border-radius: 10px;\n        color:white;\n        position: static;\n        background: rgba(0,0,0,0.92);\n        transition: background 0.3s;\n    }\n    .list_add:hover{\n        cursor: pointer;\n        background: rgba(0,0,0,1);\n    }\n    .upload_icon{\n        margin-right: 10px;\n    }\n    .list{\n        width: 100%;\n        height: calc((100vh - 80px)/9);\n        position: relative;\n        line-height: calc((100vh - 80px)/9);\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-around;\n        padding-left: 10px;\n        padding-right: 10px;\n    }\n    .list:hover, .list_selected{\n        cursor: pointer;\n        background: rgba(0,0,0,0.05);\n    }\n    \n    .list_chapter{\n        width: 100px;\n        font-weight: bolder;\n        font-size: 16px;\n    }\n    .list_title{\n        width: 200px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        font-size: 16px;\n    }\n    .edit{\n        height: 30px;\n        width: 30px;\n        line-height: 30px;\n        text-align: center;\n        margin-right: -8px;\n    }\n    .form_input{\n        margin-top: 15px;\n        margin-bottom: 15px;\n    }\n    .upload-demo{\n        margin-top: 15px;\n    }\n    .sendBtn{\n        margin-top: 15px;\n        width: 100%;\n    }\n    ::v-deep .el-dialog{\n        width: 50vw;\n    }\n    ::v-deep .el-upload-dragger{\n        width: calc(50vw - 40px);\n    }\n    ::v-deep .el-button+.el-button{\n        margin-left: 0 !important;\n    }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Class.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Class.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Class.vue?vue&type=template&id=6955dc5c&scoped=true\"\nimport script from \"./Class.vue?vue&type=script&lang=js\"\nexport * from \"./Class.vue?vue&type=script&lang=js\"\nimport style0 from \"./Class.vue?vue&type=style&index=0&id=6955dc5c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6955dc5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"posterContainer\"},[_c('router-view',{staticClass:\"router_view\"}),_c('div',{staticClass:\"column\"},[_c('self-intro')],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"版主介紹\")]),_c('div',{staticClass:\"userImg\"}),_c('div',{staticClass:\"name\"},[_c('div',{staticClass:\"name_chinese\"},[_vm._v(\"林英豪\")]),_c('div',{staticClass:\"name_Englist\"},[_vm._v(\"YING-HAO, LIN\")])]),_c('div',{staticClass:\"part\"},[_c('div',{staticClass:\"part_title\"},[_vm._v(\"學歷\")]),_c('div',{staticClass:\"part_detail\"},[_vm._v(\"國立清華大學半導體研究學院 \"),_c('span',{staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"碩士*\")])]),_c('div',{staticClass:\"part_detail\"},[_vm._v(\"國立清華大學工程與系統科學系 \"),_c('span',{staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"學士\")])])]),_c('div',{staticClass:\"part\"},[_c('div',{staticClass:\"part_title\"},[_vm._v(\"研究領域\")]),_c('div',{staticClass:\"part_detail\"},[_vm._v(\"前瞻半導體二維材料元件設計\")])]),_c('div',{staticClass:\"part\"},[_c('div',{staticClass:\"part_title\"},[_vm._v(\"工作經驗\")]),_c('div',{staticClass:\"work_name\"},[_vm._v(\"國家高速網路與計算中心 \"),_c('div',{staticClass:\"work_time\"},[_vm._v(\"202507-202509\")])]),_c('div',{staticClass:\"work_title\"},[_vm._v(\"大數據服務研發工程師（實習）\")]),_c('div',{staticClass:\"work_name\"},[_vm._v(\"國家高速網路與計算中心 \"),_c('div',{staticClass:\"work_time\"},[_vm._v(\"202407-202507\")])]),_c('div',{staticClass:\"work_title\"},[_vm._v(\"PINNs 前端開發工程師（實習）\")])]),_c('div',{staticClass:\"part\"},[_c('div',{staticClass:\"part_title\"},[_vm._v(\"自我簡介\")]),_c('div',{staticClass:\"part_personal_intro\"},[_vm._v(\"我平時熱衷於鑽研電子電路與人工智慧應用，也喜歡透過專案實作培養解決問題的能力。在探索新知的過程中，我深刻體會到\"),_c('span',{staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"「誠信」\")]),_vm._v(\"的重要性，因為唯有誠信才能讓團隊彼此信任，讓創新成果被業界與客戶認可。我希望未來能以專業結合誠懇態度，在半導體產業持續貢獻與成長。\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box\">\n    <div class=\"title\">版主介紹</div>\n    <div class=\"userImg\"></div>\n    <div class=\"name\">\n        <div class=\"name_chinese\">林英豪</div>\n        <div class=\"name_Englist\">YING-HAO, LIN</div>\n    </div>\n    <div class=\"part\">\n        <div class=\"part_title\">學歷</div>\n        <div class=\"part_detail\">國立清華大學半導體研究學院 <span style=\"font-weight: bolder;\">碩士*</span></div>\n        <div class=\"part_detail\">國立清華大學工程與系統科學系 <span style=\"font-weight: bolder;\">學士</span></div>\n    </div>\n    <div class=\"part\">\n        <div class=\"part_title\">研究領域</div>\n        <div class=\"part_detail\">前瞻半導體二維材料元件設計</div>\n    </div>\n    <div class=\"part\">\n        <div class=\"part_title\">工作經驗</div>\n        <div class=\"work_name\">國家高速網路與計算中心 <div class=\"work_time\">202507-202509</div></div>\n        <div class=\"work_title\">大數據服務研發工程師（實習）</div>\n        <div class=\"work_name\">國家高速網路與計算中心 <div class=\"work_time\">202407-202507</div></div>\n        <div class=\"work_title\">PINNs 前端開發工程師（實習）</div>\n    </div>\n    <div class=\"part\">\n        <div class=\"part_title\">自我簡介</div>\n        <div class=\"part_personal_intro\">我平時熱衷於鑽研電子電路與人工智慧應用，也喜歡透過專案實作培養解決問題的能力。在探索新知的過程中，我深刻體會到<span style=\"font-weight: bolder;\">「誠信」</span>的重要性，因為唯有誠信才能讓團隊彼此信任，讓創新成果被業界與客戶認可。我希望未來能以專業結合誠懇態度，在半導體產業持續貢獻與成長。</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'SelfIntro'\n}\n</script>\n\n<style scoped>\n    .box{\n        width: 310px;\n        min-height: 718px;\n        height: calc(100vh - 60px);\n        box-shadow: 0px 1px 3px rgba(0,0,0,0.3);\n        transition: all 1s ease;\n        box-sizing: border-box;\n        padding-top: 20px;\n        padding-bottom: 20px;\n        overflow-y: scroll;\n    }\n    .box:hover{\n        cursor: pointer;\n        box-shadow: 0px 5px 8px rgba(0,0,0,0.3);\n    }\n    .title{\n        width: 100%;\n        padding-left: 20px;\n        margin-bottom: 15px;\n        font-weight: bolder;\n        font-size: 18px;\n    }\n    .userImg{\n        height: 200px;\n        background-image: url(../../../../public/img/author2.jpg);\n        background-position: center;\n        background-size: contain;\n        background-repeat: no-repeat;\n    }\n    .name{\n        width: 100%;\n        text-align: center;\n        margin-top: 15px;\n        line-height: 1.5;\n        font-size: 18px;\n        font-weight: bolder;\n    }\n    .part{\n        width: 100%;\n        padding-left: 20px;\n        padding-right: 20px;\n        box-sizing: border-box;\n    }\n    .part_title{\n        font-weight: bolder;\n        font-size: 18px;\n        box-sizing: border-box;\n        margin-bottom: 12px;\n        margin-top: 12px;\n    }\n    .part_detail{\n        line-height: 1.5;\n    }\n    .work_name{\n        height: 24px;\n        line-height: 24px;\n    }\n    .work_time{\n        font-size: 11px;\n        height: 24px;\n        display: inline-block;\n        line-height: 24px;\n        color:rgba(0,0,0,0.3);\n    }\n    .work_title{\n        line-height: 32px;\n        height: 32px;\n        font-weight: bold;\n    }\n    .part_personal_intro{\n        text-align: justify;\n        line-height: 1.5;\n        font-size: 14px;\n    }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelfIntro.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelfIntro.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelfIntro.vue?vue&type=template&id=1b67184a&scoped=true\"\nimport script from \"./SelfIntro.vue?vue&type=script&lang=js\"\nexport * from \"./SelfIntro.vue?vue&type=script&lang=js\"\nimport style0 from \"./SelfIntro.vue?vue&type=style&index=0&id=1b67184a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b67184a\",\n  null\n  \n)\n\nexport default component.exports","<!-- 發文帖子 -->\n<template>\n  <div class=\"view\">\n    <div class=\"posterContainer\">\n      <router-view class=\"router_view\"></router-view>\n      <div class=\"column\">\n          <self-intro></self-intro>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SelfIntro from './components/SelfIntro.vue';\nexport default {\n  name:'Post',\n  components:{\n    SelfIntro\n  }\n}\n</script>\n\n<style scoped>\n  .view{\n    width: calc(100vw - 250px);\n    height: 100vh;\n  }\n  .router_view{\n    width: 73%;\n    min-width: 623px;\n    max-width: calc((100vw - 560px) * 0.73);\n    margin-top: 20px;\n    height: 100vh;\n    box-sizing: border-box;\n  }\n  .posterContainer{\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    justify-content: space-evenly;\n  }\n  .column{\n    width: 310px;\n    height: 100vh;\n    padding-top: 20px;\n    box-sizing: border-box;\n  }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=f2b8b8fc&scoped=true\"\nimport script from \"./Post.vue?vue&type=script&lang=js\"\nexport * from \"./Post.vue?vue&type=script&lang=js\"\nimport style0 from \"./Post.vue?vue&type=style&index=0&id=f2b8b8fc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2b8b8fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"posterBox\"},[(_vm.posts.length)?_c('div',{ref:\"postAll\",class:`postAll ${_vm.currentUser.typeEng=='teacher'?'':'postAll_student'}`},_vm._l((_vm.posts),function(obj,id){return _c('div',{key:id,staticClass:\"post\"},[(_vm.showPermission)?_c('div',{staticClass:\"post_more\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" 操作\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":{ method:'modify',content: obj.content, idx: obj.idx}}},[_vm._v(\"編輯\")]),_c('el-dropdown-item',{attrs:{\"command\":{ method:'delete', idx: obj.idx}}},[_vm._v(\"刪除\")])],1)],1)],1):_vm._e(),_c('div',{staticClass:\"post_top\"},[_c('div',{staticClass:\"post_top_img\"},[_c('img',{attrs:{\"src\":obj.creator.userImgUrl?obj.creator.userImgUrl:'img/user.png',\"alt\":\"\"}})]),_c('div',{staticClass:\"post_top_detail\"},[_c('div',{staticClass:\"post_top_name\"},[_vm._v(_vm._s(obj.creator.name))]),_c('div',{staticClass:\"post_top_date\"},[_vm._v(_vm._s(obj.createTime))])])]),(obj.content.trim()!='')?_c('div',{staticClass:\"post_text\",domProps:{\"innerHTML\":_vm._s(obj.content)}}):_vm._e(),(_vm.checkPostTextOverflow(obj.content))?_c('div',{staticClass:\"post_text_expand_logo\",on:{\"click\":function($event){return _vm.expandPostText($event)}}},[_vm._v(\"顯示更多\")]):_vm._e(),(obj.postImg.length)?_c('div',{staticClass:\"post_img\"},[_c('el-carousel',{attrs:{\"autoplay\":false,\"loop\":false}},_vm._l((obj.postImg),function(item,id){return _c('el-carousel-item',{key:id},[_c('div',{staticClass:\"carousel_img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\"}],attrs:{\"src\":\"img/Loading.gif\",\"data-src\":item.url,\"alt\":\"\"}})])])}),1)],1):_vm._e(),_c('div',{staticClass:\"post_footer\"},[(obj.likeCount || obj.message.length)?_c('div',{staticClass:\"post_summary\"},[(obj.likeCount || obj.isLike)?_c('div',{staticClass:\"post_summary_thumb\"},[_c('i',{staticClass:\"fa-solid fa-thumbs-up post_summary_thumb_icon\"}),(obj.isLike && obj.likeCount != 1)?_c('span',[_vm._v(\"你和其他 \"+_vm._s(obj.likeCount - 1)+\" 人\")]):(obj.isLike)?_c('span',[_vm._v(\"你\")]):_c('span',[_vm._v(_vm._s(obj.likeCount))])]):_vm._e(),(obj.message.length)?_c('div',{staticClass:\"post_summary_msg\"},[_vm._v(_vm._s(obj.message.length)+\" \"),_c('i',{staticClass:\"fa-solid fa-message post_summary_msg_icon\"})]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"post_option_box\"},[_c('div',{class:`post_option ${obj.isLike?'like':''}`,on:{\"click\":function($event){return _vm.toggleLikePost(obj.idx, $event, obj)}}},[_c('i',{class:`fa-regular fa-thumbs-up icon ${obj.isLike?'fa-solid':''}`}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(obj.isLike?'收回讚':'按讚'))])]),_c('div',{staticClass:\"post_option\",on:{\"click\":function($event){return _vm.openUserMessageBox($event)}}},[_c('i',{staticClass:\"fa-regular fa-message icon\"}),_vm._v(\" 留言\")]),_c('div',{staticClass:\"post_option\",on:{\"click\":function($event){return _vm.copyShareUrl(obj.idx)}}},[_c('i',{staticClass:\"fa-regular fa-share-from-square icon\"}),_vm._v(\" 分享\")])]),_c('div',{staticClass:\"userMessageBox\"},[(!obj.message.length)?_c('div',{staticClass:\"userMessage\",staticStyle:{\"text-align\":\"center\",\"color\":\"gray\",\"font-size\":\"14px\"}},[_vm._v(\"目前暫時沒有人留言\")]):_vm._e(),_vm._l((obj.message),function(item,id){return _c('div',{key:id,staticClass:\"userMessage_active\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\"}],staticClass:\"userMessage_active_img\",attrs:{\"src\":\"img/user.png\",\"data-src\":item.userImgUrl,\"alt\":\"\",\"loading\":\"lazy\"}}),_c('div',{staticClass:\"userMessage_active_msgBox\"},[_c('div',{staticClass:\"userMessage_active_name\"},[_vm._v(_vm._s(item.name)+\" \"),_c('span',{staticClass:\"userMessage_active_createTime\"},[_vm._v(_vm._s(item.createTime))])]),_c('div',{staticClass:\"userMessage_active_msg\"},[_vm._v(_vm._s(item.message))])])])}),_c('div',{staticClass:\"post_viewer_input_box\"},[_c('img',{staticClass:\"viewer_inputTextBoxImg\",attrs:{\"src\":_vm.currentUser.userImgUrl?_vm.currentUser.userImgUrl:'img/user.png',\"alt\":\"\"}}),_c('textarea',{staticClass:\"viewer_textArea\",attrs:{\"placeholder\":\"在此貼文下進行留言\"}}),_c('div',{staticClass:\"viewer_send\",on:{\"click\":function($event){return _vm.sendUserMessage(obj.idx, $event)}}},[_c('i',{staticClass:\"fa-solid fa-feather\"})])])],2)])])}),0):_c('div',{staticClass:\"postAll postAll_empty\"},[_c('el-empty',{attrs:{\"description\":\"分享之貼文不公開或已刪除\"}})],1)]),(_vm.showPermission)?_c('el-dialog',{attrs:{\"title\":\"修改貼文\",\"visible\":_vm.dialogTableVisible2},on:{\"update:visible\":function($event){_vm.dialogTableVisible2=$event}}},[_c('div',{ref:\"modifyContent\",staticClass:\"real_input\",attrs:{\"contenteditable\":\"true\"}}),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"loading\":_vm.isSending},on:{\"click\":function($event){return _vm.modifyPost()}}},[_vm._v(\"修改貼文\")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 發文帖子 -->\n<template>\n  <div>\n    <div class=\"posterBox\">\n        <div :class=\"`postAll ${currentUser.typeEng=='teacher'?'':'postAll_student'}`\" ref=\"postAll\" v-if=\"posts.length\">\n          <div class=\"post\" v-for=\"(obj,id) in posts\" :key=\"id\">\n            <div class=\"post_more\" v-if=\"showPermission\">\n              <el-dropdown @command=\"handleCommand\">\n                <span class=\"el-dropdown-link\">\n                  操作<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </span>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item :command=\"{ method:'modify',content: obj.content, idx: obj.idx}\">編輯</el-dropdown-item>\n                  <el-dropdown-item :command=\"{ method:'delete', idx: obj.idx}\">刪除</el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </div>\n            <div class=\"post_top\">\n              <div class=\"post_top_img\"><img :src=\"obj.creator.userImgUrl?obj.creator.userImgUrl:'img/user.png'\" alt=\"\"></div>\n              <div class=\"post_top_detail\">\n                <div class=\"post_top_name\">{{ obj.creator.name }}</div>\n                <div class=\"post_top_date\">{{obj.createTime}}</div>\n              </div>\n            </div>\n            <div class=\"post_text\" v-if=\"obj.content.trim()!=''\" v-html=\"obj.content\"></div>\n            <div class=\"post_text_expand_logo\" v-if=\"checkPostTextOverflow(obj.content)\" @click=\"expandPostText($event)\">顯示更多</div>\n            <div class=\"post_img\" v-if=\"obj.postImg.length\">\n              <el-carousel :autoplay=\"false\" :loop=\"false\">\n                <el-carousel-item v-for=\"(item,id) in obj.postImg\" :key=\"id\">\n                  <div class=\"carousel_img\"><img src=\"img/Loading.gif\" :data-src=\"item.url\" v-lazy alt=\"\"></div>\n                </el-carousel-item>\n              </el-carousel>\n            </div>\n            <div class=\"post_footer\">\n              <div class=\"post_summary\" v-if=\"obj.likeCount || obj.message.length\">\n                <div class=\"post_summary_thumb\" v-if=\"obj.likeCount || obj.isLike\">\n                  <i class=\"fa-solid fa-thumbs-up post_summary_thumb_icon\"></i>\n                  <span v-if=\"obj.isLike && obj.likeCount != 1\">你和其他 {{obj.likeCount - 1}} 人</span>\n                  <span v-else-if=\"obj.isLike\">你</span>\n                  <span v-else>{{obj.likeCount}}</span>\n                </div>\n                <div class=\"post_summary_msg\" v-if=\"obj.message.length\">{{obj.message.length}} <i class=\"fa-solid fa-message post_summary_msg_icon\"></i></div>\n              </div>\n              <div class=\"post_option_box\">\n                <div :class=\"`post_option ${obj.isLike?'like':''}`\" @click=\"toggleLikePost(obj.idx, $event, obj)\"><i :class=\"`fa-regular fa-thumbs-up icon ${obj.isLike?'fa-solid':''}`\"></i> <span>{{ obj.isLike?'收回讚':'按讚' }}</span></div>\n                <div class=\"post_option\" @click=\"openUserMessageBox($event)\"><i class=\"fa-regular fa-message icon\"></i> 留言</div>\n                <div class=\"post_option\" @click=\"copyShareUrl(obj.idx)\"><i class=\"fa-regular fa-share-from-square icon\"></i> 分享</div>\n              </div>\n              <div class=\"userMessageBox\">\n                <div class=\"userMessage\" style=\"text-align: center; color:gray; font-size: 14px;\" v-if=\"!obj.message.length\">目前暫時沒有人留言</div>\n                <div class=\"userMessage_active\" v-for=\"(item,id) in obj.message\" :key=\"id\">\n                  <img class=\"userMessage_active_img\" src=\"img/user.png\" :data-src=\"item.userImgUrl\" v-lazy alt=\"\" loading=\"lazy\">\n                  <div class=\"userMessage_active_msgBox\">\n                    <div class=\"userMessage_active_name\">{{ item.name }} <span class=\"userMessage_active_createTime\">{{ item.createTime }}</span></div>\n                    <div class=\"userMessage_active_msg\">{{ item.message }}</div>\n                  </div>\n                </div>\n                <div class=\"post_viewer_input_box\">\n                  <img class=\"viewer_inputTextBoxImg\" :src=\"currentUser.userImgUrl?currentUser.userImgUrl:'img/user.png'\" alt=\"\">\n                  <textarea class=\"viewer_textArea\" placeholder=\"在此貼文下進行留言\"></textarea>\n                  <div class=\"viewer_send\" @click=\"sendUserMessage(obj.idx, $event)\"><i class=\"fa-solid fa-feather\"></i></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"postAll postAll_empty\" v-else>\n          <el-empty description=\"分享之貼文不公開或已刪除\"></el-empty>\n        </div>\n    </div>\n    <el-dialog title=\"修改貼文\" :visible.sync=\"dialogTableVisible2\" v-if=\"showPermission\">\n      <div class=\"real_input\" ref=\"modifyContent\" contenteditable=\"true\"></div>\n      <el-button type=\"primary\" class=\"button\" @click=\"modifyPost()\" :loading=\"isSending\" >修改貼文</el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport jsCookie from 'js-cookie'\nexport default {\n  name:'Normal',\n  data(){\n    return {\n      currentUser:{},\n      isSending:false,\n      showPlaceholder:true,\n\n      // 顯示貼文\n      posts:[],\n      page:1,\n      showPermission:false,\n      isLoading: false, // 加載狀態，避免重複請求\n\n      // 修改貼文內容\n      modifyIdx:'',\n      modifyContent:'',\n      dialogTableVisible2:false,\n      \n    }\n  },\n  async mounted(){\n    await this.setAnonymousMode(); // 確保陌生帳號亦可查看分享之內容\n    await this.getPost()\n    await this.getUserInfo()\n    this.currentUser = this.$bus.$currentUser\n  },\n\n  methods:{\n    async setAnonymousMode(){\n      const authToken = jsCookie.get('authToken');\n      if(!authToken){\n        let data;\n        try{\n          const res = await axios.post('/login/anonymous',null,\n          {\n            headers:{\n              'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n            }\n          })\n          data = res.data;\n          if(data.type == 'success'){\n            this.$bus.$currentUser = res.data.userInfo\n            this.$bus.$emit('setUserInfo')\n          }\n        }\n        catch(e){}\n      }\n    },\n    handleCommand(payload){\n      if(payload.method == 'delete'){\n        this.deletePost(payload.idx)\n      }\n      if(payload.method == 'modify'){\n        this.openModifyBox(payload.content,payload.idx)\n      }\n    },\n    async copyShareUrl(idx){\n      let text = location.protocol+'//'+location.host + '/#/academic/post/share?share='+idx;\n      this.$bus.$emit('copyToClipboard','分享貼文連結通知',text);\n    },\n    async getUserInfo(){\n      const token = jsCookie.get('authToken');\n      if(!token) return \n      try{\n        const res = await axios.post('/login/token',{save:false},{\n          headers:{\n            'x-user-token':token,\n            'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n          }\n        })\n        if(res.data.type == 'success'){\n          this.showPermission = (res.data.userInfo.typeEng == 'teacher')\n        }\n      }\n      catch(e){}\n    },\n\n    async getPost(flag){\n      if (this.isLoading) return;\n      this.isLoading = true;\n      \n      if(flag == 'refresh'){\n        this.posts = [];\n        this.page = 1;\n      }\n      let url = `/api/post/share/${this.$route.query.share}`\n\n      try{\n        const res = await axios.get(url,{\n          headers:{\n              'x-user-token':jsCookie.get('authToken'),\n          }\n        })\n        if(res.data.type == 'success'){\n          const newPosts = res.data.posts;\n          this.posts = this.posts.concat(newPosts);\n          this.page++;\n        }\n        else this.$bus.$emit('handleAlert','貼文獲取通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n      finally{\n        this.isLoading = false;\n      }\n    },\n    async deletePost(idx){\n      try{\n        await this.$confirm(`確認是否刪除貼文?`, '提示', {\n          confirmButtonText: '刪除',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        const res = await axios.delete(`/api/post/deletePost/${idx}`,{\n          headers:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        })\n        if(res.data.type == 'success'){\n          this.getPost('refresh');\n          this.$bus.$emit('handleAlert','貼文刪除通知',res.data.message,res.data.type)\n        }\n        else this.$bus.$emit('handleAlert','貼文刪除通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n    },\n    async openModifyBox(content, idx){\n      this.dialogTableVisible2 = true;\n      this.$nextTick(()=>{\n        this.$refs['modifyContent'].innerHTML = content;\n      })\n      this.modifyIdx = idx;\n    },\n    async modifyPost(){\n      try{\n        this.modifyContent =  this.$refs['modifyContent'].innerHTML;\n        const res = await axios.post(`/api/post/modifyPost/${this.modifyIdx}`,{content:this.modifyContent},{\n          headers:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        })\n        if(res.data.type == 'success'){\n          this.getPost('refresh');\n          this.dialogTableVisible2 = false;\n          this.modifyContent = '';\n          this.modifyIdx = '';\n          this.$bus.$emit('handleAlert','貼文修改通知',res.data.message,res.data.type)\n        }\n        else this.$bus.$emit('handleAlert','貼文修改通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n    },\n    async toggleLikePost(idx,event,obj){\n      const wrapper = event.currentTarget; \n      const icon = wrapper.querySelector('i');\n      const span = wrapper.querySelector('span')\n      try{\n        const res = await axios.get(`/api/post/toggleLikePost/${idx}`,{\n          headers:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        })\n        if(res.data.type == 'success'){\n          wrapper.classList.toggle('like')\n          icon.classList.toggle('fa-solid')\n          span.innerText == '按讚'? span.innerText='收回讚':span.innerText='按讚'\n          obj.likeCount = res.data.likeCount;\n          obj.isLike ? obj.isLike = false : obj.isLike = true;\n        }\n        else this.$bus.$emit('handleAlert','貼文按讚通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n    },\n    checkPostTextOverflow(htmlContent, maxHeight = 144) {\n      // 建立暫時容器\n      const temp = document.createElement('div');\n      temp.style.wordBreak = 'break-all'\n      temp.style.position = 'absolute';\n      temp.style.visibility = 'hidden';\n      temp.style.lineHeight = '1.5'\n      \n      const reference = document.querySelector('.post_text');\n      const width = reference ? reference.clientWidth + 'px' : '589px';\n      temp.style.width = width;\n\n\n      temp.innerHTML = htmlContent;\n\n      document.body.appendChild(temp);\n      const exceeds = temp.offsetHeight > maxHeight;\n \n      document.body.removeChild(temp);\n\n      return exceeds;\n    },\n\n    // 留言區\n    msgScrollToBottom(event){\n      this.$nextTick(() => {\n        const box = event.target.closest('.userMessageBox')  // 找到留言框\n        if (box) {\n          box.scrollTop = box.scrollHeight\n        }\n      })\n    },\n    openUserMessageBox(event){\n      const postOption = event.currentTarget;\n      const icon = postOption.querySelector('i')\n      icon.classList.toggle('fa-solid');\n      const userMessageBox = postOption.closest('.post_option_box').nextElementSibling;\n      userMessageBox.classList.toggle('userMessageBox_open');\n    },\n    async sendUserMessage(idx, event){\n      try{\n        const sendButton = event.currentTarget;\n        const textArea = sendButton.previousElementSibling;\n        const message = textArea.value;\n\n        console.log('here')\n        const res = await axios.post(`/api/post/message`,{postIdx:idx, message:message},{\n          headers:{\n            'x-user-token':jsCookie.get('authToken'),\n            'x-user-fingerprint': localStorage.getItem('deviceFingerprint')\n          }\n        })\n\n        if(res.data.type == 'success'){\n          const post = this.posts.find(post => post.idx == idx)\n          post.message.push(res.data.data)\n          textArea.value = '';\n          this.msgScrollToBottom(event);\n        }\n        else this.$bus.$emit('handleAlert','貼文留言通知',res.data.message,res.data.type)\n      }\n      catch(e){\n        console.log(e)\n      }\n    },\n\n    // 貼文內文展開\n    expandPostText(event){\n      const post = event.currentTarget.closest('.post'); \n      const postText = post.querySelector('.post_text');\n      event.currentTarget.innerText == '顯示更多'? event.currentTarget.innerText = '顯示更少':event.currentTarget.innerText = '顯示更多'\n      postText.classList.toggle('post_text_expand');\n    }\n\n  },\n}\n</script>\n\n<style scoped>\n  .posterBox{\n    width:100%;\n    height: 100vh;\n    box-sizing: border-box;\n  }\n  .like{\n    color: rgb(88, 88, 250);\n  }\n  ::v-deep .el-dialog{\n    width: 720px;\n  }\n  .real_input{\n    width: 100%;\n    height: auto;\n    min-height: 100px;\n    max-height: 200px;\n    overflow-y: scroll;\n    line-height: 1.5;\n    margin: 0 auto;\n    margin-top: -15px;\n    margin-bottom: 20px;\n    box-sizing: border-box;\n    position: relative;\n  }\n  .real_input:focus{\n    outline: none;\n  }\n  .real_input:empty::before {\n    content: \"請輸入您要發表的貼文內容\";\n    color: #aaa;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    font-size: 16px;\n    pointer-events: none;\n  }\n  .button{\n    margin-top: 30px;\n    margin-bottom: -10px;\n    width: 100%;\n  }\n  .postAll{\n    width: 100%;\n    height: calc(100vh - 160px);\n    overflow-y:scroll;\n    padding-left: 5px;\n    padding-right: 5px;\n    padding-bottom: 10px;\n    padding-top: 5px;\n  }\n  .postAll_student{\n    height: calc(100vh - 50px);\n  }\n  .postAll_empty{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .post{\n    width: 100%;\n    height: auto;\n    box-shadow: 0px 1px 3px gray;\n    border-radius: 5px;\n    position: relative;\n    margin-bottom: 15px;\n    padding-top: 5px;\n  }\n  .post_more{\n    position: absolute;\n    top: 10px;\n    right: 15px;\n  }\n  .post_top{\n    width: 95%;\n    height: 55px;\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n  }\n  .post_top_img{\n    width: 40px;\n    height: 40px;\n    border-radius: 40px;\n    overflow: hidden;\n  }\n  .post_top_img>img{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    display: inline-block;\n  }\n  .post_top_detail{\n    width: 90%;\n    height: 40px;\n    line-height: 20px;\n    margin-left: 12px;\n  }\n  .post_top_name{\n    width: 100%;\n    font-size: 16px;\n    overflow-y: scroll;\n  }\n  .post_top_date{\n    width: 100%;\n    font-size: 10px;\n  }\n  .post_text_expand_logo{\n    width:94.5%;\n    margin: 0 auto;\n    text-align: right;\n    font-size: 14px;\n    padding-right: 10px;\n    color: rgba(0,0,0,0.6);\n    margin-bottom: 5px;\n  }\n  .post_text_expand_logo:hover{\n    cursor: pointer;\n  }\n  .post_text{\n    width: 94.5%;\n    margin: 0 auto;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    max-height: 144px;\n    line-height: 1.5;\n    font-size: 16px;\n    text-align: justify;\n    overflow-y: hidden;\n    word-break: break-all;\n  }\n  .post_text_expand{\n    max-height: none !important;\n  }\n  .post_img{\n    width: 100%;\n    min-height: 300px !important;\n    height: calc((100vw - 250px) * 0.3) !important;\n    height: auto;\n    padding-top: 5px;\n    padding-bottom: 5px;\n  }\n  .carousel_img{\n    width: 100%;\n    min-height: 300px !important;\n    height: calc((100vw - 250px) * 0.3) !important;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .carousel_img>img{\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n  ::v-deep .el-carousel__container{\n    min-height: 300px !important;\n    height: calc((100vw - 250px) * 0.3) !important;\n  }\n  ::v-deep .el-carousel__indicator{\n    display: none;\n  }\n  ::v-deep .el-upload-list__item img {\n    width: 100%;   \n    height: 100%;  \n    object-fit: cover; \n  }\n  .post_footer{\n    width: 95%;\n    height: auto;\n    margin: 0 auto;\n  }\n  .userMessageBox{\n    border-top: 1px solid rgba(0,0,0,0.1);\n    width: 100%;\n    height: 0;\n    max-height: 250px;\n    overflow-y: scroll;\n    position: relative;\n    display: none;\n  }\n  .userMessage{\n    width: 100%;\n    min-height: 25px;\n    line-height: 25px;\n    height: auto;\n    padding-left: 5px;\n    padding-right: 5px;\n    word-wrap: break-word;\n    box-sizing: border-box;\n    font-size: 14px;\n  }\n  .userMessage_active{\n    width: 100%;\n    display: flex;\n    box-sizing: border-box;\n    padding-top: 10px;\n  }\n  .userMessage_active_img{\n    width: 35px;\n    height: 35px;\n    border-radius: 35px;\n  }\n  .userMessage_active_msgBox{\n    max-width: calc(100% - 44px);\n    margin-left: 9px;\n    border-radius: 10px;\n    background: #F0F2F5;\n    padding: 7px;\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n  .userMessage_active_name{\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 5px;\n  }\n  .userMessage_active_createTime{\n    font-size: 9px;\n    display: inline-block;\n    margin-left: 7.5px;\n    color: gray;\n  }\n  .userMessage_active_msg{\n    font-size: 14px;\n    line-height: 1.5;\n    word-break: break-all;\n  }\n  .userMessageBox_open{\n    height: auto;\n    display: block;\n  }\n  .post_summary{\n    width: 100%;\n    height: 40px;\n    position: relative;\n    align-items: center;\n    border-bottom: 1px solid rgba(0,0,0,0.1);\n  }\n  .post_summary_thumb{\n    color:gray;\n    line-height: 40px;\n    text-align: left;\n    position: absolute;\n  }\n  .post_summary_thumb_icon{\n    color: rgb(0, 132, 255);\n    margin-right: 5px;\n    margin-left: 5px;\n  }\n  .post_summary_msg{\n    line-height: 40px;\n    color:gray;\n    margin-right: 10px;\n    text-align: right;\n  }\n  .post_summary_msg_icon{\n    color:gray;\n    margin-left: 3px;\n  }\n  .post_option_box{\n    width: 100%;\n    height: 40px;\n    display: flex;\n    justify-content: space-evenly;\n  }\n  .post_option{\n    text-align: center;\n    height: 40px;\n    line-height: 40px;\n    width: 50%;\n    border-radius: 5px;\n  }\n  .post_option:hover{\n    cursor: pointer;\n    background-color: rgba(240,240,240);\n  }\n  .post_viewer_input_box{\n    width: 100%;\n    height: 55px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    background: white;\n  }\n  .viewer_inputTextBoxImg{\n    width: 35px;\n    height: 35px;\n    border-radius: 35px;\n  }\n  .viewer_textArea {\n    width: 90%;\n    height: 35px;\n    padding-top: 9px;\n    line-height: 17.5px;\n    overflow-y: auto;\n    padding-left: 20px;\n    padding-right: 20px;\n    margin-left: 10px;\n    margin-right: 5px;\n    font-size: 14px;\n    border-radius: 20px;\n    border: none;\n    outline: none;\n    background-color: #F0F2F5;\n    box-sizing: border-box;\n    color: gray;\n    resize: none;\n  }\n  .viewer_textArea:hover{\n    cursor: pointer;\n    background-color:rgb(240,240,240);\n  }\n  .viewer_send{\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    line-height: 35px;\n    font-size: 18px;\n    border-radius: 5px;\n  }\n  .viewer_send:hover{\n    cursor: pointer;\n    background-color:rgb(240,240,240);\n  }\n  \n  ::v-deep .el-table{\n    border-radius: 0 0 4px 4px;\n  }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Share.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Share.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Share.vue?vue&type=template&id=16d1cb14&scoped=true\"\nimport script from \"./Share.vue?vue&type=script&lang=js\"\nexport * from \"./Share.vue?vue&type=script&lang=js\"\nimport style0 from \"./Share.vue?vue&type=style&index=0&id=16d1cb14&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16d1cb14\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"posterBox\"},[(_vm.currentUser.typeEng == 'teacher')?_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"inputTextBox\",on:{\"click\":function($event){return _vm.openDialog('img')}}},[_c('div',{staticClass:\"inputTextBoxImg\"},[_c('img',{attrs:{\"src\":_vm.currentUser.userImgUrl?_vm.currentUser.userImgUrl:'img/user.png',\"alt\":\"\"}})]),_c('div',{staticClass:\"textArea\"},[_vm._v(\"發表您的貼文和公告\")])]),_c('div',{staticClass:\"iconBox\"},[_c('div',{staticClass:\"icon_item\",on:{\"click\":function($event){return _vm.openDialog('post')}}},[_c('i',{staticClass:\"fa-regular fa-pen-to-square icon\"}),_vm._v(\" 建立貼文 \")]),_c('div',{staticClass:\"icon_item\",on:{\"click\":function($event){return _vm.openDialog('img')}}},[_c('i',{staticClass:\"fa-regular fa-images icon\"}),_vm._v(\" 相片 / 影片 \")])])]):_vm._e(),(_vm.posts.length)?_c('div',{ref:\"postAll\",class:`postAll ${_vm.currentUser.typeEng=='teacher'?'':'postAll_student'}`,on:{\"scroll\":function($event){return _vm.postDivScroll()}}},_vm._l((_vm.posts),function(obj,id){return _c('div',{key:id,staticClass:\"post\"},[(_vm.showPermission)?_c('div',{staticClass:\"post_more\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" 操作\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":{ method:'modify',content: obj.content, idx: obj.idx}}},[_vm._v(\"編輯\")]),_c('el-dropdown-item',{attrs:{\"command\":{ method:'delete', idx: obj.idx}}},[_vm._v(\"刪除\")])],1)],1)],1):_vm._e(),_c('div',{staticClass:\"post_top\"},[_c('div',{staticClass:\"post_top_img\"},[_c('img',{attrs:{\"src\":obj.creator.userImgUrl?obj.creator.userImgUrl:'img/user.png',\"alt\":\"\"}})]),_c('div',{staticClass:\"post_top_detail\"},[_c('div',{staticClass:\"post_top_name\"},[_vm._v(_vm._s(obj.creator.name))]),_c('div',{staticClass:\"post_top_date\"},[_vm._v(_vm._s(obj.createTime))])])]),(obj.content.trim()!='')?_c('div',{staticClass:\"post_text\",domProps:{\"innerHTML\":_vm._s(obj.content)}}):_vm._e(),(_vm.checkPostTextOverflow(obj.content))?_c('div',{staticClass:\"post_text_expand_logo\",on:{\"click\":function($event){return _vm.expandPostText($event)}}},[_vm._v(\"顯示更多\")]):_vm._e(),(obj.postImg.length)?_c('div',{staticClass:\"post_img\"},[_c('el-carousel',{attrs:{\"autoplay\":false,\"loop\":false}},_vm._l((obj.postImg),function(item,id){return _c('el-carousel-item',{key:id},[_c('div',{staticClass:\"carousel_img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\"}],attrs:{\"src\":\"img/Loading.gif\",\"data-src\":item.url,\"alt\":\"\"}})])])}),1)],1):_vm._e(),_c('div',{staticClass:\"post_footer\"},[(obj.likeCount || obj.message.length)?_c('div',{staticClass:\"post_summary\"},[(obj.likeCount || obj.isLike)?_c('div',{staticClass:\"post_summary_thumb\"},[_c('i',{staticClass:\"fa-solid fa-thumbs-up post_summary_thumb_icon\"}),(obj.isLike && obj.likeCount != 1)?_c('span',[_vm._v(\"你和其他 \"+_vm._s(obj.likeCount - 1)+\" 人\")]):(obj.isLike)?_c('span',[_vm._v(\"你\")]):_c('span',[_vm._v(_vm._s(obj.likeCount))])]):_vm._e(),(obj.message.length)?_c('div',{staticClass:\"post_summary_msg\"},[_vm._v(_vm._s(obj.message.length)+\" \"),_c('i',{staticClass:\"fa-solid fa-message post_summary_msg_icon\"})]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"post_option_box\"},[_c('div',{class:`post_option ${obj.isLike?'like':''}`,on:{\"click\":function($event){return _vm.toggleLikePost(obj.idx, $event, obj)}}},[_c('i',{class:`fa-regular fa-thumbs-up icon ${obj.isLike?'fa-solid':''}`}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(obj.isLike?'收回讚':'按讚'))])]),_c('div',{staticClass:\"post_option\",on:{\"click\":function($event){return _vm.openUserMessageBox($event)}}},[_c('i',{staticClass:\"fa-regular fa-message icon\"}),_vm._v(\" 留言\")]),_c('div',{staticClass:\"post_option\",on:{\"click\":function($event){return _vm.copyShareUrl(obj.idx)}}},[_c('i',{staticClass:\"fa-regular fa-share-from-square icon\"}),_vm._v(\" 分享\")])]),_c('div',{staticClass:\"userMessageBox\"},[(!obj.message.length)?_c('div',{staticClass:\"userMessage\",staticStyle:{\"text-align\":\"center\",\"color\":\"gray\",\"font-size\":\"14px\"}},[_vm._v(\"目前暫時沒有人留言\")]):_vm._e(),_vm._l((obj.message),function(item,id){return _c('div',{key:id,staticClass:\"userMessage_active\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\"}],staticClass:\"userMessage_active_img\",attrs:{\"src\":\"img/user.png\",\"data-src\":item.userImgUrl,\"alt\":\"\",\"loading\":\"lazy\"}}),_c('div',{staticClass:\"userMessage_active_msgBox\"},[_c('div',{staticClass:\"userMessage_active_name\"},[_vm._v(_vm._s(item.name)+\" \"),_c('span',{staticClass:\"userMessage_active_createTime\"},[_vm._v(_vm._s(item.createTime))])]),_c('div',{staticClass:\"userMessage_active_msg\"},[_vm._v(_vm._s(item.message))])])])}),_c('div',{staticClass:\"post_viewer_input_box\"},[_c('img',{staticClass:\"viewer_inputTextBoxImg\",attrs:{\"src\":_vm.currentUser.userImgUrl?_vm.currentUser.userImgUrl:'img/user.png',\"alt\":\"\"}}),_c('textarea',{staticClass:\"viewer_textArea\",attrs:{\"placeholder\":\"在此貼文下進行留言\"}}),_c('div',{staticClass:\"viewer_send\",on:{\"click\":function($event){return _vm.sendUserMessage(obj.idx, $event)}}},[_c('i',{staticClass:\"fa-solid fa-feather\"})])])],2)])])}),0):_c('div',{staticClass:\"postAll postAll_empty\"},[_c('el-empty',{attrs:{\"description\":\"暫無貼文\"}})],1)]),(_vm.showPermission)?_c('el-dialog',{attrs:{\"title\":\"建立貼文\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('div',{ref:\"input\",staticClass:\"real_input\",attrs:{\"contenteditable\":\"true\"}}),_c('el-upload',{attrs:{\"action\":\"#\",\"auto-upload\":false,\"list-type\":\"picture-card\",\"on-change\":_vm.handleUpload,\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.form.attachments,\"multiple\":true,\"accept\":\"image/*\"}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})]),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"loading\":_vm.isSending},on:{\"click\":function($event){return _vm.create()}}},[_vm._v(\"建立貼文\")])],1):_vm._e(),(_vm.showPermission)?_c('el-dialog',{attrs:{\"title\":\"修改貼文\",\"visible\":_vm.dialogTableVisible2},on:{\"update:visible\":function($event){_vm.dialogTableVisible2=$event}}},[_c('div',{ref:\"modifyContent\",staticClass:\"real_input\",attrs:{\"contenteditable\":\"true\"}}),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"loading\":_vm.isSending},on:{\"click\":function($event){return _vm.modifyPost()}}},[_vm._v(\"修改貼文\")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 發文帖子 -->\n<template>\n  <div>\n    <div class=\"posterBox\">\n        <div class=\"inputBox\" v-if=\"currentUser.typeEng == 'teacher'\">\n          <div class=\"inputTextBox\" @click=\"openDialog('img')\">\n            <div class=\"inputTextBoxImg\"><img :src=\"currentUser.userImgUrl?currentUser.userImgUrl:'img/user.png'\" alt=\"\"></div>\n            <div class=\"textArea\">發表您的貼文和公告</div>\n          </div>\n          <div class=\"iconBox\">\n            <div class=\"icon_item\" @click=\"openDialog('post')\">\n              <i class=\"fa-regular fa-pen-to-square icon\"></i> 建立貼文\n            </div>\n            <div class=\"icon_item\" @click=\"openDialog('img')\">\n              <i class=\"fa-regular fa-images icon\"></i> 相片 / 影片\n            </div>\n          </div>\n        </div>\n        <div :class=\"`postAll ${currentUser.typeEng=='teacher'?'':'postAll_student'}`\" ref=\"postAll\" @scroll=\"postDivScroll()\" v-if=\"posts.length\">\n          <div class=\"post\" v-for=\"(obj,id) in posts\" :key=\"id\">\n            <div class=\"post_more\" v-if=\"showPermission\">\n              <el-dropdown @command=\"handleCommand\">\n                <span class=\"el-dropdown-link\">\n                  操作<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </span>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item :command=\"{ method:'modify',content: obj.content, idx: obj.idx}\">編輯</el-dropdown-item>\n                  <el-dropdown-item :command=\"{ method:'delete', idx: obj.idx}\">刪除</el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </div>\n            <div class=\"post_top\">\n              <div class=\"post_top_img\"><img :src=\"obj.creator.userImgUrl?obj.creator.userImgUrl:'img/user.png'\" alt=\"\"></div>\n              <div class=\"post_top_detail\">\n                <div class=\"post_top_name\">{{ obj.creator.name }}</div>\n                <div class=\"post_top_date\">{{obj.createTime}}</div>\n              </div>\n            </div>\n            <div class=\"post_text\" v-if=\"obj.content.trim()!=''\" v-html=\"obj.content\"></div>\n            <div class=\"post_text_expand_logo\" v-if=\"checkPostTextOverflow(obj.content)\" @click=\"expandPostText($event)\">顯示更多</div>\n            <div class=\"post_img\" v-if=\"obj.postImg.length\">\n              <el-carousel :autoplay=\"false\" :loop=\"false\">\n                <el-carousel-item v-for=\"(item,id) in obj.postImg\" :key=\"id\">\n                  <div class=\"carousel_img\"><img src=\"img/Loading.gif\" :data-src=\"item.url\" v-lazy alt=\"\"></div>\n                </el-carousel-item>\n              </el-carousel>\n            </div>\n            <div class=\"post_footer\">\n              <div class=\"post_summary\" v-if=\"obj.likeCount || obj.message.length\">\n                <div class=\"post_summary_thumb\" v-if=\"obj.likeCount || obj.isLike\">\n                  <i class=\"fa-solid fa-thumbs-up post_summary_thumb_icon\"></i>\n                  <span v-if=\"obj.isLike && obj.likeCount != 1\">你和其他 {{obj.likeCount - 1}} 人</span>\n                  <span v-else-if=\"obj.isLike\">你</span>\n                  <span v-else>{{obj.likeCount}}</span>\n                </div>\n                <div class=\"post_summary_msg\" v-if=\"obj.message.length\">{{obj.message.length}} <i class=\"fa-solid fa-message post_summary_msg_icon\"></i></div>\n              </div>\n              <div class=\"post_option_box\">\n                <div :class=\"`post_option ${obj.isLike?'like':''}`\" @click=\"toggleLikePost(obj.idx, $event, obj)\"><i :class=\"`fa-regular fa-thumbs-up icon ${obj.isLike?'fa-solid':''}`\"></i> <span>{{ obj.isLike?'收回讚':'按讚' }}</span></div>\n                <div class=\"post_option\" @click=\"openUserMessageBox($event)\"><i class=\"fa-regular fa-message icon\"></i> 留言</div>\n                <div class=\"post_option\" @click=\"copyShareUrl(obj.idx)\"><i class=\"fa-regular fa-share-from-square icon\"></i> 分享</div>\n              </div>\n              <div class=\"userMessageBox\">\n                <div class=\"userMessage\" style=\"text-align: center; color:gray; font-size: 14px;\" v-if=\"!obj.message.length\">目前暫時沒有人留言</div>\n                <div class=\"userMessage_active\" v-for=\"(item,id) in obj.message\" :key=\"id\">\n                  <img class=\"userMessage_active_img\" src=\"img/user.png\" :data-src=\"item.userImgUrl\" v-lazy alt=\"\" loading=\"lazy\">\n                  <div class=\"userMessage_active_msgBox\">\n                    <div class=\"userMessage_active_name\">{{ item.name }} <span class=\"userMessage_active_createTime\">{{ item.createTime }}</span></div>\n                    <div class=\"userMessage_active_msg\">{{ item.message }}</div>\n                  </div>\n                </div>\n                <div class=\"post_viewer_input_box\">\n                  <img class=\"viewer_inputTextBoxImg\" :src=\"currentUser.userImgUrl?currentUser.userImgUrl:'img/user.png'\" alt=\"\">\n                  <textarea class=\"viewer_textArea\" placeholder=\"在此貼文下進行留言\"></textarea>\n                  <div class=\"viewer_send\" @click=\"sendUserMessage(obj.idx, $event)\"><i class=\"fa-solid fa-feather\"></i></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"postAll postAll_empty\" v-else>\n          <el-empty description=\"暫無貼文\"></el-empty>\n        </div>\n    </div>\n    <el-dialog title=\"建立貼文\" :visible.sync=\"dialogTableVisible\" v-if=\"showPermission\">\n      <div class=\"real_input\" ref=\"input\" contenteditable=\"true\"></div>\n      <el-upload action=\"#\" :auto-upload=\"false\" list-type=\"picture-card\" :on-change=\"handleUpload\" :on-preview=\"handlePictureCardPreview\" :on-remove=\"handleRemove\" :file-list=\"form.attachments\" :multiple=\"true\" accept=\"image/*\"><i class=\"el-icon-plus\"></i></el-upload>\n      <el-dialog :visible.sync=\"dialogVisible\">\n        <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n      </el-dialog>\n      <el-button type=\"primary\" class=\"button\" @click=\"create()\" :loading=\"isSending\" >建立貼文</el-button>\n    </el-dialog>\n    <el-dialog title=\"修改貼文\" :visible.sync=\"dialogTableVisible2\" v-if=\"showPermission\">\n      <div class=\"real_input\" ref=\"modifyContent\" contenteditable=\"true\"></div>\n      <el-button type=\"primary\" class=\"button\" @click=\"modifyPost()\" :loading=\"isSending\" >修改貼文</el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport jsCookie from 'js-cookie'\nexport default {\n  name:'Normal',\n  data(){\n    return {\n      currentUser:{},\n      // 上傳內容\n      form:{\n        content:'',\n        attachments:[]\n      },\n      isSending:false,\n      showPlaceholder:true,\n      // 貼文創建\n      dialogTableVisible:false,\n      sendEnabled: false,\n      inputKeyUpfunction:{},\n      // 圖片牆\n      dialogImageUrl: '',\n      dialogVisible: false,\n\n      // 顯示貼文\n      posts:[],\n      page:1,\n      showPermission:false,\n      isLoading: false, // 加載狀態，避免重複請求\n\n      // 修改貼文內容\n      modifyIdx:'',\n      modifyContent:'',\n      dialogTableVisible2:false,\n      \n    }\n  },\n  async mounted(){\n    this.inputKeyUpfunction = window.addEventListener('keyup',()=>{\n      if(this.dialogTableVisible && this.$refs.input){\n        if(this.$refs.input.innerText.trim()=='' && this.$refs.input.innerHTML.length == 4) this.$refs.input.innerHTML = ''\n      }\n    })\n    await this.getPost()\n    await this.getUserInfo()\n    this.currentUser = this.$bus.$currentUser\n\n  },\n\n  methods:{\n    handleCommand(payload){\n      if(payload.method == 'delete'){\n        this.deletePost(payload.idx)\n      }\n      if(payload.method == 'modify'){\n        this.openModifyBox(payload.content,payload.idx)\n      }\n    },\n    async getUserInfo(){\n      const token = jsCookie.get('authToken');\n      if(!token) return \n      try{\n        const res = await axios.post('/login/token',{save:false},{\n          headers:{\n            'x-user-token':token,\n            'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n          }\n        })\n        if(res.data.type == 'success'){\n          this.showPermission = (res.data.userInfo.typeEng == 'teacher')\n        }\n      }\n      catch(e){}\n    },\n    async copyShareUrl(idx){\n      let text = location.protocol+'//'+location.host + '/#/academic/post/share?share='+idx;\n      this.$bus.$emit('copyToClipboard','分享貼文連結通知' ,text);\n    },\n    postDivScroll(){\n      const postAllDiv = this.$refs.postAll;\n      if (postAllDiv.scrollHeight - postAllDiv.scrollTop === postAllDiv.clientHeight) {\n        this.getPost();\n      }\n    },\n    async getPost(flag){\n      if (this.isLoading) return;\n      this.isLoading = true;\n      \n      if(flag == 'refresh'){\n        this.posts = [];\n        this.page = 1;\n      }\n      let url = `/api/post/getPost?page=${this.page}`\n\n      try{\n        const res = await axios.get(url,{\n          headers:{\n              'x-user-token':jsCookie.get('authToken'),\n          }\n        })\n        if(res.data.type == 'success'){\n          const newPosts = res.data.posts;\n          this.posts = this.posts.concat(newPosts);\n          this.page++;\n\n          this.$nextTick(async() => {\n            const postAllDiv = this.$refs.postAll;\n            // 如果內容高度仍然 <= 容器高度，代表還不夠滾動，繼續載入\n            if (postAllDiv && postAllDiv.scrollHeight <= postAllDiv.clientHeight && newPosts.length > 0) {\n              await this.getPost();\n            }\n          });\n        }\n        else this.$bus.$emit('handleAlert','貼文獲取通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n      finally{\n        this.isLoading = false;\n      }\n    },\n    async create(){\n      this.isSending = true;\n      this.form.content = this.$refs.input.innerHTML;\n      const formData = new FormData();\n      formData.append('content', this.form.content);\n\n      if (this.form.attachments && this.form.attachments.length > 0) {\n          this.form.attachments.forEach((file, index) => {\n              formData.append('attachments', file.raw);\n          });\n      }\n      const res = await axios.post('/api/post/create',formData,{\n          headers:{\n              'x-user-token':jsCookie.get('authToken'),\n          }\n      })\n      if(res.data.type == 'success'){\n          this.getPost('refresh')\n          this.dialogTableVisible = false;\n          this.form = {\n              content:'',\n              attachments:[]\n          },\n          this.$refs.input.innerHTML = '';\n          this.$bus.$emit('handleAlert','貼文創建通知',res.data.message,res.data.type)\n      }\n      else this.$bus.$emit('handleAlert','貼文創建通知',res.data.message,res.data.type)\n      this.isSending = false;\n    },\n    async deletePost(idx){\n      try{\n        await this.$confirm(`確認是否刪除貼文?`, '提示', {\n          confirmButtonText: '刪除',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        const res = await axios.delete(`/api/post/deletePost/${idx}`,{\n          headers:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        })\n        if(res.data.type == 'success'){\n          this.getPost('refresh');\n          this.$bus.$emit('handleAlert','貼文刪除通知',res.data.message,res.data.type)\n        }\n        else this.$bus.$emit('handleAlert','貼文刪除通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n    },\n    async openModifyBox(content, idx){\n      this.dialogTableVisible2 = true;\n      this.$nextTick(()=>{\n        this.$refs['modifyContent'].innerHTML = content;\n      })\n      this.modifyIdx = idx;\n    },\n    async modifyPost(){\n      try{\n        this.modifyContent =  this.$refs['modifyContent'].innerHTML;\n        const res = await axios.post(`/api/post/modifyPost/${this.modifyIdx}`,{content:this.modifyContent},{\n          headers:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        })\n        if(res.data.type == 'success'){\n          this.getPost('refresh');\n          this.dialogTableVisible2 = false;\n          this.modifyContent = '';\n          this.modifyIdx = '';\n          this.$bus.$emit('handleAlert','貼文修改通知',res.data.message,res.data.type)\n        }\n        else this.$bus.$emit('handleAlert','貼文修改通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n    },\n    async toggleLikePost(idx,event,obj){\n      const wrapper = event.currentTarget; \n      const icon = wrapper.querySelector('i');\n      const span = wrapper.querySelector('span')\n      try{\n        const res = await axios.get(`/api/post/toggleLikePost/${idx}`,{\n          headers:{\n            'x-user-token':jsCookie.get('authToken')\n          }\n        })\n        if(res.data.type == 'success'){\n          wrapper.classList.toggle('like')\n          icon.classList.toggle('fa-solid')\n          span.innerText == '按讚'? span.innerText='收回讚':span.innerText='按讚'\n          obj.likeCount = res.data.likeCount;\n          obj.isLike ? obj.isLike = false : obj.isLike = true;\n        }\n        else this.$bus.$emit('handleAlert','貼文按讚通知',res.data.message,res.data.type)\n      }\n      catch(e){}\n    },\n    checkPostTextOverflow(htmlContent, maxHeight = 144) {\n      // 建立暫時容器\n      const temp = document.createElement('div');\n      temp.style.wordBreak = 'break-all'\n      temp.style.position = 'absolute';\n      temp.style.visibility = 'hidden';\n      temp.style.lineHeight = '1.5'\n      \n      const reference = document.querySelector('.post_text');\n      const width = reference ? reference.clientWidth + 'px' : '589px';\n      temp.style.width = width;\n\n\n      temp.innerHTML = htmlContent;\n\n      document.body.appendChild(temp);\n      const exceeds = temp.offsetHeight > maxHeight;\n \n      document.body.removeChild(temp);\n\n      return exceeds;\n    },\n    openDialog(){\n      if(this.showPermission) this.dialogTableVisible = true;\n      else this.$bus.$emit('handleAlert','創建貼文權限通知','目前平台並未開放學生進行貼文','warning')\n    },\n    // 圖片處理\n    handleUpload(file,fileList){\n      this.form.attachments = fileList\n    },\n    handleRemove(file, fileList) {\n      this.form.attachments = fileList\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n\n    // 留言區\n    msgScrollToBottom(event){\n      this.$nextTick(() => {\n        const box = event.target.closest('.userMessageBox')  // 找到留言框\n        if (box) {\n          box.scrollTop = box.scrollHeight\n        }\n      })\n    },\n    openUserMessageBox(event){\n      const postOption = event.currentTarget;\n      const icon = postOption.querySelector('i')\n      icon.classList.toggle('fa-solid');\n      const userMessageBox = postOption.closest('.post_option_box').nextElementSibling;\n      userMessageBox.classList.toggle('userMessageBox_open');\n    },\n    async sendUserMessage(idx, event){\n      try{\n        const sendButton = event.currentTarget;\n        const textArea = sendButton.previousElementSibling;\n        const message = textArea.value;\n\n        console.log('here')\n        const res = await axios.post(`/api/post/message`,{postIdx:idx, message:message},{\n          headers:{\n            'x-user-token':jsCookie.get('authToken'),\n            'x-user-fingerprint': localStorage.getItem('deviceFingerprint')\n          }\n        })\n\n        if(res.data.type == 'success'){\n          const post = this.posts.find(post => post.idx == idx)\n          post.message.push(res.data.data)\n          textArea.value = '';\n          this.msgScrollToBottom(event);\n        }\n        else this.$bus.$emit('handleAlert','貼文留言通知',res.data.message,res.data.type)\n      }\n      catch(e){\n        console.log(e)\n      }\n    },\n\n    // 貼文內文展開\n    expandPostText(event){\n      const post = event.currentTarget.closest('.post'); \n      const postText = post.querySelector('.post_text');\n      event.currentTarget.innerText == '顯示更多'? event.currentTarget.innerText = '顯示更少':event.currentTarget.innerText = '顯示更多'\n      postText.classList.toggle('post_text_expand');\n    }\n\n  },\n  beforeDestroy(){\n    window.removeEventListener('keyup',this.inputKeyUpfunction);\n  }\n}\n</script>\n\n<style scoped>\n  .posterBox{\n    width:100%;\n    height: 100vh;\n    box-sizing: border-box;\n  }\n  .inputBox{\n    width: 100%;\n    height: auto;\n    min-height: 120px;\n    box-shadow: 0px 1px 3px gray;\n    border-radius: 5px;\n    display: flex;\n    margin-left: 5px;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 15px;\n  }\n  .inputTextBox{\n    width: 95%;\n    height: 60px;\n    margin: 0 auto;\n    border-bottom: 1px solid rgba(0,0,0,0.1);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .inputTextBoxImg{\n    width: 40px;\n    height: 40px;\n    border-radius: 40px;\n    overflow: hidden;\n  }\n  .inputTextBoxImg>img{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  .textArea {\n    width: calc(100% - 60px);\n    height: 40px;\n    line-height: 40px;\n    overflow-y: auto;\n    padding-left: 20px;\n    margin-left: 20px;\n    font-size: 14px;\n    border-radius: 20px;\n    border: none;\n    outline: none;\n    background-color: #F0F2F5;\n    box-sizing: border-box;\n    color: gray;\n  }\n  .textArea:hover{\n    cursor: pointer;\n    background-color:rgb(240,240,240);\n  }\n  .iconBox{\n    width: 95%;\n    height: 60px;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n  }\n  .icon_item{\n    width: 50%;\n    height: 55px;\n    line-height: 55px;\n    text-align: center;\n    border-radius: 5px;\n  }\n  .icon_item:hover{\n    cursor: pointer;\n    background-color: rgba(240,240,240);\n  }\n  .icon{\n    margin-right: 5px;\n  }\n  .like{\n    color: rgb(88, 88, 250);\n  }\n  ::v-deep .el-dialog{\n    width: 720px;\n  }\n  .real_input{\n    width: 100%;\n    height: auto;\n    min-height: 100px;\n    max-height: 200px;\n    overflow-y: scroll;\n    line-height: 1.5;\n    margin: 0 auto;\n    margin-top: -15px;\n    margin-bottom: 20px;\n    box-sizing: border-box;\n    position: relative;\n  }\n  .real_input:focus{\n    outline: none;\n  }\n  .real_input:empty::before {\n    content: \"請輸入您要發表的貼文內容\";\n    color: #aaa;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    font-size: 16px;\n    pointer-events: none;\n  }\n  .button{\n    margin-top: 30px;\n    margin-bottom: -10px;\n    width: 100%;\n  }\n  .postAll{\n    width: 100%;\n    height: calc(100vh - 160px);\n    overflow-y:scroll;\n    padding-left: 5px;\n    padding-right: 5px;\n    padding-bottom: 10px;\n    padding-top: 5px;\n  }\n  .postAll_student{\n    height: calc(100vh - 50px);\n  }\n  .postAll_empty{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .post{\n    width: 100%;\n    height: auto;\n    box-shadow: 0px 1px 3px gray;\n    border-radius: 5px;\n    position: relative;\n    margin-bottom: 15px;\n    padding-top: 5px;\n  }\n  .post_more{\n    position: absolute;\n    top: 10px;\n    right: 15px;\n  }\n  .post_top{\n    width: 95%;\n    height: 55px;\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n  }\n  .post_top_img{\n    width: 40px;\n    height: 40px;\n    border-radius: 40px;\n    overflow: hidden;\n  }\n  .post_top_img>img{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    display: inline-block;\n  }\n  .post_top_detail{\n    width: 90%;\n    height: 40px;\n    line-height: 20px;\n    margin-left: 12px;\n  }\n  .post_top_name{\n    width: 100%;\n    font-size: 16px;\n    overflow-y: scroll;\n  }\n  .post_top_date{\n    width: 100%;\n    font-size: 10px;\n  }\n  .post_text_expand_logo{\n    width:94.5%;\n    margin: 0 auto;\n    text-align: right;\n    font-size: 14px;\n    padding-right: 10px;\n    color: rgba(0,0,0,0.6);\n    margin-bottom: 5px;\n  }\n  .post_text_expand_logo:hover{\n    cursor: pointer;\n  }\n  .post_text{\n    width: 94.5%;\n    margin: 0 auto;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    max-height: 144px;\n    line-height: 1.5;\n    font-size: 16px;\n    text-align: justify;\n    overflow-y: hidden;\n    word-break: break-all;\n  }\n  .post_text_expand{\n    max-height: none !important;\n  }\n  .post_img{\n    width: 100%;\n    min-height: 300px !important;\n    height: calc((100vw - 250px) * 0.3) !important;\n    height: auto;\n    padding-top: 5px;\n    padding-bottom: 5px;\n  }\n  .carousel_img{\n    width: 100%;\n    min-height: 300px !important;\n    height: calc((100vw - 250px) * 0.3) !important;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .carousel_img>img{\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n  ::v-deep .el-carousel__container{\n    min-height: 300px !important;\n    height: calc((100vw - 250px) * 0.3) !important;\n  }\n  ::v-deep .el-carousel__indicator{\n    display: none;\n  }\n  ::v-deep .el-upload-list__item img {\n    width: 100%;   \n    height: 100%;  \n    object-fit: cover; \n  }\n  .post_footer{\n    width: 95%;\n    height: auto;\n    margin: 0 auto;\n  }\n  .userMessageBox{\n    border-top: 1px solid rgba(0,0,0,0.1);\n    width: 100%;\n    height: 0;\n    max-height: 250px;\n    overflow-y: scroll;\n    position: relative;\n    display: none;\n  }\n  .userMessage{\n    width: 100%;\n    min-height: 25px;\n    line-height: 25px;\n    height: auto;\n    padding-left: 5px;\n    padding-right: 5px;\n    word-wrap: break-word;\n    box-sizing: border-box;\n    font-size: 14px;\n  }\n  .userMessage_active{\n    width: 100%;\n    display: flex;\n    box-sizing: border-box;\n    padding-top: 10px;\n  }\n  .userMessage_active_img{\n    width: 35px;\n    height: 35px;\n    border-radius: 35px;\n  }\n  .userMessage_active_msgBox{\n    max-width: calc(100% - 44px);\n    margin-left: 9px;\n    border-radius: 10px;\n    background: #F0F2F5;\n    padding: 7px;\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n  .userMessage_active_name{\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 5px;\n  }\n  .userMessage_active_createTime{\n    font-size: 9px;\n    display: inline-block;\n    margin-left: 7.5px;\n    color: gray;\n  }\n  .userMessage_active_msg{\n    font-size: 14px;\n    line-height: 1.5;\n    word-break: break-all;\n  }\n  .userMessageBox_open{\n    height: auto;\n    display: block;\n  }\n  .post_summary{\n    width: 100%;\n    height: 40px;\n    position: relative;\n    align-items: center;\n    border-bottom: 1px solid rgba(0,0,0,0.1);\n  }\n  .post_summary_thumb{\n    color:gray;\n    line-height: 40px;\n    text-align: left;\n    position: absolute;\n  }\n  .post_summary_thumb_icon{\n    color: rgb(0, 132, 255);\n    margin-right: 5px;\n    margin-left: 5px;\n  }\n  .post_summary_msg{\n    line-height: 40px;\n    color:gray;\n    margin-right: 10px;\n    text-align: right;\n  }\n  .post_summary_msg_icon{\n    color:gray;\n    margin-left: 3px;\n  }\n  .post_option_box{\n    width: 100%;\n    height: 40px;\n    display: flex;\n    justify-content: space-evenly;\n  }\n  .post_option{\n    text-align: center;\n    height: 40px;\n    line-height: 40px;\n    width: 50%;\n    border-radius: 5px;\n  }\n  .post_option:hover{\n    cursor: pointer;\n    background-color: rgba(240,240,240);\n  }\n  .post_viewer_input_box{\n    width: 100%;\n    height: 55px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    background: white;\n  }\n  .viewer_inputTextBoxImg{\n    width: 35px;\n    height: 35px;\n    border-radius: 35px;\n  }\n  .viewer_textArea {\n    width: 90%;\n    height: 35px;\n    padding-top: 9px;\n    line-height: 17.5px;\n    overflow-y: auto;\n    padding-left: 20px;\n    padding-right: 20px;\n    margin-left: 10px;\n    margin-right: 5px;\n    font-size: 14px;\n    border-radius: 20px;\n    border: none;\n    outline: none;\n    background-color: #F0F2F5;\n    box-sizing: border-box;\n    color: gray;\n    resize: none;\n  }\n  .viewer_textArea:hover{\n    cursor: pointer;\n    background-color:rgb(240,240,240);\n  }\n  .viewer_send{\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    line-height: 35px;\n    font-size: 18px;\n    border-radius: 5px;\n  }\n  .viewer_send:hover{\n    cursor: pointer;\n    background-color:rgb(240,240,240);\n  }\n  \n  ::v-deep .el-table{\n    border-radius: 0 0 4px 4px;\n  }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Normal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Normal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Normal.vue?vue&type=template&id=b54ab6ee&scoped=true\"\nimport script from \"./Normal.vue?vue&type=script&lang=js\"\nexport * from \"./Normal.vue?vue&type=script&lang=js\"\nimport style0 from \"./Normal.vue?vue&type=style&index=0&id=b54ab6ee&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b54ab6ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"box\"},[_vm._m(0),_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login_text\"},[_vm._v(\"帳號：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入帳號\",\"clearable\":\"\"},model:{value:(_vm.student.account),callback:function ($$v) {_vm.$set(_vm.student, \"account\", $$v)},expression:\"student.account\"}})],1),_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login_text\"},[_vm._v(\"密碼：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入密碼\",\"clearable\":\"\",\"show-password\":\"\"},model:{value:(_vm.student.password),callback:function ($$v) {_vm.$set(_vm.student, \"password\", $$v)},expression:\"student.password\"}})],1),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login('student')}}},[_vm._v(\"會員登入\")])],1)]),_c('div',{staticClass:\"box\"},[_vm._m(1),_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login_text\"},[_vm._v(\"帳號：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入帳號\",\"clearable\":\"\"},model:{value:(_vm.teacher.account),callback:function ($$v) {_vm.$set(_vm.teacher, \"account\", $$v)},expression:\"teacher.account\"}})],1),_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login_text\"},[_vm._v(\"密碼：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入密碼\",\"clearable\":\"\",\"show-password\":\"\"},model:{value:(_vm.teacher.password),callback:function ($$v) {_vm.$set(_vm.teacher, \"password\", $$v)},expression:\"teacher.password\"}})],1),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login('teacher')}}},[_vm._v(\"管理員登入\")])],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('i',{staticClass:\"fa-solid fa-id-card\"}),_vm._v(\" 會員登入\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('i',{staticClass:\"fa-solid fa-id-card\"}),_vm._v(\" 管理員登入\")])\n}]\n\nexport { render, staticRenderFns }","<!-- 練習 -->\n<template>\n  <div class=\"view\">\n    <div class=\"box\">\n      <div class=\"header\"><i class=\"fa-solid fa-id-card\"></i> 會員登入</div>\n      <div class=\"login\"><div class=\"login_text\">帳號：</div><el-input placeholder=\"請輸入帳號\" v-model=\"student.account\" clearable></el-input></div>\n      <div class=\"login\"><div class=\"login_text\">密碼：</div><el-input placeholder=\"請輸入密碼\" v-model=\"student.password\" clearable show-password></el-input></div>\n      <div class=\"btn\"><el-button type=\"primary\" @click=\"login('student')\">會員登入</el-button></div>\n    </div>\n    <div class=\"box\">\n      <div class=\"header\"><i class=\"fa-solid fa-id-card\"></i> 管理員登入</div>\n      <div class=\"login\"><div class=\"login_text\">帳號：</div><el-input placeholder=\"請輸入帳號\" v-model=\"teacher.account\" clearable></el-input></div>\n      <div class=\"login\"><div class=\"login_text\">密碼：</div><el-input placeholder=\"請輸入密碼\" v-model=\"teacher.password\" clearable show-password></el-input></div>\n      <div class=\"btn\"><el-button type=\"primary\" @click=\"login('teacher')\">管理員登入</el-button></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name:'Login',\n  data(){\n    return {\n      text:'',\n      student:{\n        account:'',\n        password:'',\n        type:'student'\n      },\n      teacher:{\n        account:'',\n        password:'',\n        type:'teacher'\n      }\n    }\n  },\n  mounted(){\n\n  },\n  methods:{\n    async login(type){\n      let data;\n      if(Object.values(this[type]).some(value => value === null || value === undefined || value.trim() === '')){\n          return this.$bus.$emit('handleAlert','登入訊息','登入資料不可為空。','error')\n      }\n      try{\n        const res = await axios.post('/login/verify',this[type],\n          {\n                headers: {\n                  'x-user-fingerprint': localStorage.getItem('deviceFingerprint')\n                }\n          }\n        )\n        data = res.data;\n        if(data.type == 'success'){\n          this.$bus.$currentUser = res.data.userInfo\n          this.$bus.$emit('setUserInfo')\n          this.$router.replace(`/academic/${type}Info`).catch((e)=>{})\n        }\n      }\n      catch(e){}\n      finally{\n        this.$bus.$emit('handleAlert','登入訊息',data.message,data.type)\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n  .view{\n    width: calc(100vw - 250px);\n    height: 100vh;\n    display: flex;\n    justify-content: space-evenly;\n  }\n  .box{\n    width: 45%;\n    margin: 0 auto;\n    margin-top: 40px;\n  }\n  .btn{\n    margin-top: 20px;\n    float: right;\n  }\n  .header{\n    height: 60px;\n    line-height: 60px;\n    font-size: 24px;\n  }\n  .login_text{\n    line-height: 3;\n  }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=646fb0bf&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=646fb0bf&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"646fb0bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"sum_box\"},[_c('router-link',{staticClass:\"sum\",attrs:{\"to\":\"\"}},[_c('div',{staticClass:\"sum_title\"},[_vm._v(\"已訂閱專欄\")]),_c('div',{staticClass:\"sum_num\"},[_vm._v(_vm._s(_vm.course_num))])]),_c('router-link',{staticClass:\"sum\",attrs:{\"to\":\"\"}},[_c('div',{staticClass:\"sum_title\"},[_vm._v(\"可使用專欄\")]),_c('div',{staticClass:\"sum_num\"},[_vm._v(_vm._s(_vm.available_num))])]),_c('router-link',{staticClass:\"sum\",attrs:{\"to\":\"\"}},[_c('div',{staticClass:\"sum_title\"},[_vm._v(\"已失效專欄\")]),_c('div',{staticClass:\"sum_num\"},[_vm._v(_vm._s(_vm.inavailable_num))])])],1),_c('div',{staticClass:\"table\"},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"view\">\n      <div class=\"sum_box\">\n          <router-link to=\"\" class=\"sum\">\n              <div class=\"sum_title\">已訂閱專欄</div>\n              <div class=\"sum_num\">{{ course_num }}</div>\n          </router-link>\n          <router-link to=\"\" class=\"sum\">\n              <div class=\"sum_title\">可使用專欄</div>\n              <div class=\"sum_num\">{{ available_num }}</div>\n          </router-link>\n          <router-link to=\"\" class=\"sum\">\n              <div class=\"sum_title\">已失效專欄</div>\n              <div class=\"sum_num\">{{ inavailable_num }}</div>\n          </router-link>\n      </div>\n      <div class=\"table\">\n          <router-view></router-view>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios'\n  import jsCookie from 'js-cookie'\n  export default {\n        name:'TeacherInfo',\n        async mounted(){\n            this.initialize()\n        },\n        data(){\n            return{\n                course_num:0,\n                available_num:0,\n                inavailable_num:0\n            }\n        },\n        methods:{\n            // 初始化\n            initialize(){\n                this.getCourse()\n            },\n            async getCourse(){\n                try{\n                    const res = await axios.get('/api/infoPage/getStudentCourse',{headers:{'x-user-token':jsCookie.get('authToken')}})\n                    if(res.data.courses){\n                        this.course_num = res.data.courses.length\n                        this.available_num = res.data.courses.filter(course => course.status === true).length;\n                        this.inavailable_num = this.course_num - this.available_num\n                    }\n\n                }\n                catch(e){}\n            },\n      }\n  }\n  </script>\n  \n  <style scoped>\n      .view{\n          width: calc(100vw - 250px);\n          height: 100vh;\n          justify-content: space-evenly;\n      }\n      .sum_box{\n          margin-top: 40px;\n          width: 100%;\n          display: flex;\n          justify-content: space-evenly;\n          align-items: center;\n          height: 200px;\n      }\n      .sum{\n          width: 30%;\n          height: 200px;\n          border-radius: 20px;\n          display: block;\n          text-decoration: none;\n          background: linear-gradient(to top, rgb(255,255,255),rgb(100,100,100));\n          background-position: bottom;\n          background-size: 100% 200%;\n          transition: background-position 0.5s ease-in-out;\n      }\n      .sum:hover{\n          background-position: top;\n      }\n      .sum_title{\n          height: 50px;\n          margin-left: 20px;\n          line-height: 50px;\n          font-size: 20px;\n          color: white;\n      }\n      .sum_num{\n          font-size: 120px;\n          height: 150px;\n          line-height: 150px;\n          font-weight: bolder;\n          color: white;\n          text-align: center;\n      }\n      .table{\n          width: 95%;\n          margin: 0 auto;\n          margin-top: 20px;\n      }\n      .tableTitle{\n          font-size: 24px;\n          line-height: 85px;\n      }\n      .valid{\n          color: lightgreen;\n      }\n      .invalid{\n          color: rgb(170, 170, 170);\n      }\n      .btn{\n          display: flex;\n          justify-content: space-evenly;\n          align-items: center;\n      }\n      .btn_link:hover{\n          cursor: pointer;\n          color: blue;\n      }\n      \n  </style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StudentInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StudentInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StudentInfo.vue?vue&type=template&id=5d8ebe95&scoped=true\"\nimport script from \"./StudentInfo.vue?vue&type=script&lang=js\"\nexport * from \"./StudentInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./StudentInfo.vue?vue&type=style&index=0&id=5d8ebe95&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d8ebe95\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"sum_box\"},[_c('router-link',{staticClass:\"sum\",attrs:{\"to\":\"clientTable\"}},[_c('div',{staticClass:\"sum_title\"},[_vm._v(\"用戶總數 (上限 \"+_vm._s(_vm.limit.studentNum)+\" 人)\")]),_c('div',{staticClass:\"sum_num\"},[_vm._v(_vm._s(_vm.student_num))])]),_c('router-link',{staticClass:\"sum\",attrs:{\"to\":{ path:'teacherCourseTable' }}},[_c('div',{staticClass:\"sum_title\"},[_vm._v(\"專欄總數 (上限 \"+_vm._s(_vm.limit.classNum)+\" 欄)\")]),_c('div',{staticClass:\"sum_num\"},[_vm._v(_vm._s(_vm.course_num))])]),_c('router-link',{staticClass:\"sum\",attrs:{\"to\":''}},[_c('div',{staticClass:\"sum_title\"},[_vm._v(\"空間用量 (上限 \"+_vm._s(_vm.limit.memory)+\" MB)\")]),_c('div',{staticClass:\"sum_num\"},[_vm._v(_vm._s(_vm.usage_memory))])])],1),_c('div',{staticClass:\"table\"},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"view\">\n    <div class=\"sum_box\">\n        <router-link to=\"clientTable\" class=\"sum\">\n            <div class=\"sum_title\">用戶總數 (上限 {{ limit.studentNum }} 人)</div>\n            <div class=\"sum_num\">{{ student_num }}</div>\n        </router-link>\n        <router-link :to=\"{ path:'teacherCourseTable' }\" class=\"sum\">\n            <div class=\"sum_title\">專欄總數 (上限 {{ limit.classNum }} 欄)</div>\n            <div class=\"sum_num\">{{ course_num }}</div>\n        </router-link>\n        <router-link :to=\"''\" class=\"sum\">\n            <div class=\"sum_title\">空間用量 (上限 {{ limit.memory }} MB)</div>\n            <div class=\"sum_num\">{{ usage_memory }}</div>\n        </router-link>\n    </div>\n    <div class=\"table\">\n        <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport jsCookie from 'js-cookie'\nexport default {\n    name:'TeacherInfo',\n    async mounted(){\n        this.$bus.$on('setStudentNum',this.setStudentNum)\n        this.$bus.$on('setCourseNum',this.setCourseNum)\n        this.$bus.$on('getUsageMemory',this.getUsageMemory)\n        this.initialize()\n    },\n    data(){\n      return{\n        student_num:0,\n        course_num:0,\n        usage_memory:0,\n        limit:{\n            memory:0,\n            studentNum:0,\n            classNum:0\n        }\n      }\n    },\n    methods:{\n        // 初始化\n        initialize(){\n            this.getUsageMemory()\n            this.getStudent()\n            this.getCourse()\n        },\n        setStudentNum(num){\n            this.student_num = num\n        },\n        setCourseNum(num){\n            this.course_num = num\n        },\n        async getCourse(){\n            try{\n                const res = await axios.get('/api/infoPage/getCourse',{headers:{'x-user-token':jsCookie.get('authToken')}})\n                if(res.data.courses) this.course_num = res.data.courses.length\n            }\n            catch(e){}\n        },\n        async getStudent(){\n            try{\n                const res = await axios.get('/api/infoPage/getStudent',{headers:{'x-user-token':jsCookie.get('authToken')}})\n                if(res.data.students) this.student_num = res.data.students.length\n            }\n            catch(e){}\n        },\n        async getUsageMemory(){\n            const res = await axios.get('/api/getUsageMemory',{\n                headers:{\n                    'x-user-token':jsCookie.get('authToken')\n                }\n            })\n            if(res.data.type == 'success'){\n                if(res.data.size<100) this.usage_memory = parseFloat(res.data.size).toFixed(2)\n                else if(res.data.size<1000) this.usage_memory = parseFloat(res.data.size).toFixed(1)\n                else  this.usage_memory = parseInt(res.data.size)\n                this.limit = res.data.limit;\n            }\n            else this.$bus.$emit('handleAlert','儲存空間資訊通知',res.data.message,res.data.type)\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .view{\n        width: calc(100vw - 250px);\n        height: 100vh;\n        justify-content: space-evenly;\n    }\n    .sum_box{\n        margin-top: 40px;\n        width: 100%;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 200px;\n    }\n    .sum{\n        width: 30%;\n        height: 200px;\n        border-radius: 20px;\n        display: block;\n        text-decoration: none;\n        background: linear-gradient(to top, rgb(255,255,255),rgb(100,100,100));\n        background-position: bottom;\n        background-size: 100% 200%;\n        transition: background-position 0.5s ease-in-out;\n    }\n    .sum:hover{\n        background-position: top;\n    }\n    .sum_title{\n        height: 50px;\n        margin-left: 20px;\n        line-height: 50px;\n        font-size: 20px;\n        color: white;\n    }\n    .sum_num{\n        font-size: 120px;\n        height: 150px;\n        line-height: 150px;\n        font-weight: bolder;\n        color: white;\n        text-align: center;\n    }\n    .table{\n        width: 95%;\n        margin: 0 auto;\n        margin-top: 20px;\n    }\n    .tableTitle{\n        font-size: 24px;\n        line-height: 85px;\n    }\n    .valid{\n        color: lightgreen;\n    }\n    .invalid{\n        color: rgb(170, 170, 170);\n    }\n    .btn{\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .btn_link:hover{\n        cursor: pointer;\n        color: blue;\n    }\n    \n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TeacherInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TeacherInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TeacherInfo.vue?vue&type=template&id=9487442e&scoped=true\"\nimport script from \"./TeacherInfo.vue?vue&type=script&lang=js\"\nexport * from \"./TeacherInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./TeacherInfo.vue?vue&type=style&index=0&id=9487442e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9487442e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._m(0),_c('el-table',{staticClass:\"tableData\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"height\":\"calc(100vh - 360px)\",\"empty-text\":\"暫無數據\"}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"創建時間\"}}),_c('el-table-column',{attrs:{\"prop\":\"courseId\",\"label\":\"專欄代碼\"}}),_c('el-table-column',{attrs:{\"prop\":\"courseName\",\"label\":\"專欄名稱\"}}),_c('el-table-column',{attrs:{\"prop\":\"lecturer\",\"label\":\"專欄負責人\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"狀態\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{class:scope.row.status?'valid':'invalid'},[_vm._v(_vm._s(scope.row.status?'公開':'不公開'))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"專欄通道\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"btn\",on:{\"click\":function($event){scope.row.status?_vm.goToCourse(scope.row.idx):''}}},[_vm._v(_vm._s(scope.row.status?'進入專欄':'目前無法進入專欄'))])]}}])})],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tableTitle\"},[_c('div',{staticClass:\"tableTitle_left\"},[_vm._v(\"專欄總覽\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n    <div class=\"tableTitle\">\n        <div class=\"tableTitle_left\">專欄總覽</div>\n    </div>\n        <el-table :data=\"tableData\" border height=\"calc(100vh - 360px)\" style=\"width: 100%\" class=\"tableData\" empty-text=\"暫無數據\">\n            <el-table-column prop=\"createTime\" label=\"創建時間\"></el-table-column>\n            <el-table-column prop=\"courseId\" label=\"專欄代碼\"></el-table-column>\n            <el-table-column prop=\"courseName\" label=\"專欄名稱\"></el-table-column>\n            <el-table-column prop=\"lecturer\" label=\"專欄負責人\"></el-table-column>\n            <el-table-column prop=\"status\" label=\"狀態\">\n                <template v-slot=\"scope\">\n                    <div :class=\"scope.row.status?'valid':'invalid'\">{{ scope.row.status?'公開':'不公開' }}</div>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"專欄通道\" width=\"250\">\n                <template v-slot=\"scope\">\n                    <div class=\"btn\" @click=\"scope.row.status?goToCourse(scope.row.idx):''\">{{ scope.row.status?'進入專欄':'目前無法進入專欄' }}</div>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport jsCookie from 'js-cookie'\nexport default {\n    name:'StudentCourseTable',\n    data(){\n        return{\n            tableData: [],\n        }\n    },\n    mounted(){\n        this.getCourseList()\n    },\n    methods:{\n        goToCourse(idx){\n            this.$router.push({\n                path:'/academic/class',\n                query:{\n                    idx:idx\n                }\n            }).catch((e)=>{})\n        },\n        async getCourseList(){\n            const res = await axios.get('/api/infoPage/getStudentCourse',{\n                headers:{\n                    'x-user-token':jsCookie.get('authToken')\n                }\n            })\n            if(res.data.courses) {\n                this.tableData = res.data.courses\n                this.$bus.$emit('setCourseNum',this.tableData.length)\n            }\n            else this.$bus.$emit('handleAlert','專欄資料查詢通知',res.data.message,res.data.type)\n        },\n\n    }\n}\n</script>\n\n<style scoped>\n    .table{\n        width: 95%;\n        margin: 0 auto;\n        margin-top: 20px;\n    }\n    .tableTitle{\n        line-height: 85px;\n        text-align: center;\n        display: flex;\n        align-items: center;\n    }\n    .tableTitle_left{\n        float: left;\n        font-size: 24px;\n    }\n    .tableTitle_right{\n        height: 40px;\n        text-align: center;\n        /* 放置最右邊 */\n        margin-left: auto;\n        font-size: 14px;\n    }\n    .tableTitle_right:hover{\n        cursor: pointer;\n        color: blue;\n    }\n    .valid{\n        color: lightgreen;\n    }\n    .invalid{\n        color: rgb(170, 170, 170);\n    }\n    .btn{\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .btn:hover{\n        cursor: pointer;\n    }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StudentCourseTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StudentCourseTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StudentCourseTable.vue?vue&type=template&id=084f3cf9&scoped=true\"\nimport script from \"./StudentCourseTable.vue?vue&type=script&lang=js\"\nexport * from \"./StudentCourseTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./StudentCourseTable.vue?vue&type=style&index=0&id=084f3cf9&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"084f3cf9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"tableTitle\"},[_c('div',{staticClass:\"tableTitle_left\"},[_vm._v(\"專欄總覽\")]),_c('el-button',{staticClass:\"tableTitle_right\",on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增專欄\")])],1),_c('el-table',{staticClass:\"tableData\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"height\":\"calc(100vh - 360px)\",\"empty-text\":\"暫無數據\"}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"創建時間\"}}),_c('el-table-column',{attrs:{\"prop\":\"courseId\",\"label\":\"專欄代碼\"}}),_c('el-table-column',{attrs:{\"prop\":\"lecturer\",\"label\":\"專欄負責人\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"狀態\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{class:scope.row.status?'valid':'invalid'},[_vm._v(_vm._s(scope.row.status?'公開':'不公開'))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"管理操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"btn\"},[_c('el-button',{staticClass:\"btn_link\",on:{\"click\":function($event){return _vm.openStudentList(scope.row)}}},[_vm._v(\"編輯\")]),_c('el-button',{staticClass:\"btn_link\",attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.stopCourse(scope.row.courseId,scope.row.idx)}}},[_vm._v(_vm._s(scope.row.status?'隱藏':'公開'))]),_c('el-button',{staticClass:\"btn_link\",attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteCourse(scope.row.courseId,scope.row.idx)}}},[_vm._v(\"刪除\")])],1)]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"創建專欄\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"專欄名稱\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.form.courseName),callback:function ($$v) {_vm.$set(_vm.form, \"courseName\", $$v)},expression:\"form.courseName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"專欄代碼\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.form.courseId),callback:function ($$v) {_vm.$set(_vm.form, \"courseId\", $$v)},expression:\"form.courseId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"專欄負責人\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.form.lecturer),callback:function ($$v) {_vm.$set(_vm.form, \"lecturer\", $$v)},expression:\"form.lecturer\"}})],1)],1),_c('div',{staticClass:\"class_banner_title\"},[_vm._v(\"專欄封面上傳（限制兩張，上傳後暫不提供修改，至少 350 pixel x 175 pixel）\")]),_c('el-upload',{attrs:{\"action\":\"#\",\"on-change\":_vm.handleUpload,\"list-type\":\"picture-card\",\"auto-upload\":false,\"file-list\":_vm.fileList,\"limit\":2,\"multiple\":true,\"accept\":\"image/*\"},scopedSlots:_vm._u([{key:\"file\",fn:function({file}){return _c('div',{},[_c('img',{staticClass:\"el-upload-list__item-thumbnail\",attrs:{\"src\":file.url,\"alt\":\"\"}}),_c('span',{staticClass:\"el-upload-list__item-actions\"},[_c('span',{staticClass:\"el-upload-list__item-preview\",on:{\"click\":function($event){return _vm.handlePictureCardPreview(file)}}},[_c('i',{staticClass:\"el-icon-zoom-in\"})]),_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleRemove(file)}}},[_c('i',{staticClass:\"el-icon-delete\"})])])])}}])},[_c('i',{staticClass:\"el-icon-plus\",attrs:{\"slot\":\"default\"},slot:\"default\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create()}}},[_vm._v(\"創建\")])],1)],1),_c('el-dialog',{attrs:{\"title\":`${_vm.setStudentList.courseId} - 用戶名單`,\"visible\":_vm.dialogFormVisible2},on:{\"update:visible\":function($event){_vm.dialogFormVisible2=$event}}},[_c('el-form',{attrs:{\"model\":_vm.setStudentList}},[_c('el-form-item',{attrs:{\"label\":\"專欄代碼\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.setStudentList.courseId),callback:function ($$v) {_vm.$set(_vm.setStudentList, \"courseId\", $$v)},expression:\"setStudentList.courseId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"專欄負責人\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.setStudentList.lecturer),callback:function ($$v) {_vm.$set(_vm.setStudentList, \"lecturer\", $$v)},expression:\"setStudentList.lecturer\"}})],1)],1),_c('el-transfer',{staticClass:\"transfer\",attrs:{\"props\":{key: 'idx', label: 'name'},\"filterable\":true,\"filter-method\":_vm.customFilter,\"filter-placeholder\":\"請輸入用戶姓名或帳號\",\"data\":_vm.students,\"titles\":['用戶列表', '已選用戶']},model:{value:(_vm.setStudentList.studentList),callback:function ($$v) {_vm.$set(_vm.setStudentList, \"studentList\", $$v)},expression:\"setStudentList.studentList\"}}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible2 = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.pushStudentList()}}},[_vm._v(\"保存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","    <template>\n        <div>\n        <div class=\"tableTitle\">\n            <div class=\"tableTitle_left\">專欄總覽</div>\n            <el-button class=\"tableTitle_right\" @click=\"dialogFormVisible = true\">新增專欄</el-button>\n        </div>\n            <el-table :data=\"tableData\" border height=\"calc(100vh - 360px)\" style=\"width: 100%\" class=\"tableData\" empty-text=\"暫無數據\">\n                <el-table-column prop=\"createTime\" label=\"創建時間\"></el-table-column>\n                <el-table-column prop=\"courseId\" label=\"專欄代碼\"></el-table-column>\n                <el-table-column prop=\"lecturer\" label=\"專欄負責人\"></el-table-column>\n                <el-table-column prop=\"status\" label=\"狀態\">\n                    <template v-slot=\"scope\">\n                        <div :class=\"scope.row.status?'valid':'invalid'\">{{ scope.row.status?'公開':'不公開' }}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"管理操作\" width=\"250\">\n                    <template v-slot=\"scope\">\n                        <div class=\"btn\">\n                            <el-button class=\"btn_link\" @click=\"openStudentList(scope.row)\">編輯</el-button>\n                            <el-button class=\"btn_link\" type=\"warning\" @click=\"stopCourse(scope.row.courseId,scope.row.idx)\">{{scope.row.status?'隱藏':'公開'}}</el-button>\n                            <el-button class=\"btn_link\" type=\"danger\" @click=\"deleteCourse(scope.row.courseId,scope.row.idx)\">刪除</el-button>\n                        </div>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-dialog title=\"創建專欄\" :visible.sync=\"dialogFormVisible\">\n                <el-form :model=\"form\">\n                    <el-form-item label=\"專欄名稱\">\n                        <el-input v-model=\"form.courseName\" autocomplete=\"off\" clearable></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"專欄代碼\">\n                        <el-input v-model=\"form.courseId\" autocomplete=\"off\" clearable></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"專欄負責人\">\n                        <el-input v-model=\"form.lecturer\" autocomplete=\"off\" clearable></el-input>\n                    </el-form-item>\n                </el-form>\n                <div class=\"class_banner_title\">專欄封面上傳（限制兩張，上傳後暫不提供修改，至少 350 pixel x 175 pixel）</div>\n                <el-upload  action=\"#\" :on-change=\"handleUpload\" list-type=\"picture-card\" :auto-upload=\"false\" :file-list=\"fileList\" :limit=\"2\" :multiple=\"true\" accept=\"image/*\">\n                    <i slot=\"default\" class=\"el-icon-plus\"></i>\n                    <div slot=\"file\" slot-scope=\"{file}\">\n                        <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\n                        <span class=\"el-upload-list__item-actions\">\n                            <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreview(file)\"><i class=\"el-icon-zoom-in\"></i></span>\n                            <span class=\"el-upload-list__item-delete\" @click=\"handleRemove(file)\"><i class=\"el-icon-delete\"></i></span>\n                        </span>\n                    </div>\n                </el-upload>\n                <el-dialog :visible.sync=\"dialogVisible\"><img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\"></el-dialog>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n                    <el-button type=\"primary\" @click=\"create()\">創建</el-button>\n                </div>\n            </el-dialog>\n            <el-dialog :title=\"`${setStudentList.courseId} - 用戶名單`\" :visible.sync=\"dialogFormVisible2\">\n                <el-form :model=\"setStudentList\">\n                    <el-form-item label=\"專欄代碼\">\n                        <el-input v-model=\"setStudentList.courseId\" autocomplete=\"off\" clearable></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"專欄負責人\">\n                        <el-input v-model=\"setStudentList.lecturer\" autocomplete=\"off\" clearable></el-input>\n                    </el-form-item>\n                </el-form>\n                <el-transfer class=\"transfer\" v-model=\"setStudentList.studentList\" :props=\"{key: 'idx', label: 'name'}\" :filterable=\"true\" :filter-method=\"customFilter\"\n                filter-placeholder=\"請輸入用戶姓名或帳號\" :data=\"students\" :titles=\"['用戶列表', '已選用戶']\"></el-transfer>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button @click=\"dialogFormVisible2 = false\">取消</el-button>\n                    <el-button type=\"primary\" @click=\"pushStudentList()\">保存</el-button>\n                </div>\n            </el-dialog>\n        </div>\n    </template>\n    \n    <script>\n    import axios from 'axios'\n    import jsCookie from 'js-cookie'\n    export default {\n        name:'TeacherCourseTable',\n        data(){\n            return{\n                tableData: [],\n                // 創建專欄\n                dialogFormVisible:false, \n                form:{\n                    courseName:'',\n                    courseId:'',\n                    lecturer:'',\n                },\n                // 創建專欄的圖片上傳\n                fileList: [],\n                dialogImageUrl: '',\n                dialogVisible: false,\n\n                // 指派專欄\n                dialogFormVisible2:false, \n                students:[],// 呈現在左列\n                setStudentList:{\n                    idx:'',\n                    courseId:'',\n                    lecturer:'',\n                    newCourseId:'',\n                    studentList:[] // 呈現在右列 (存 idx)\n                },\n            }\n        },\n        mounted(){\n            this.getCourseList()\n        },\n        methods:{\n            async getStudentList(){\n                const res = await axios.get('/api/infoPage/getStudent',{\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                })\n                if(res.data.type == 'success') {\n                    this.students = res.data.students\n                    this.$bus.$emit('setStudentNum',this.students.length)\n                }\n                else this.$bus.$emit('handleAlert','用戶資料查詢通知',res.data.message,res.data.type)\n            },\n            async getCourseList(){\n                const res = await axios.get('/api/infoPage/getCourse',{\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                })\n                if(res.data.type == 'success') {\n                    this.tableData = res.data.courses\n                    this.$bus.$emit('setCourseNum',this.tableData.length)\n                }\n                else this.$bus.$emit('handleAlert','專欄資料查詢通知',res.data.message,res.data.type)\n            },\n\n            // 創建專欄\n            async create(){\n                \n                const formData = new FormData();\n                \n                formData.append('courseName', this.form.courseName);\n                formData.append('courseId', this.form.courseId);\n                formData.append('lecturer', this.form.lecturer);\n\n                if (this.fileList && this.fileList.length > 0) {\n                    this.fileList.forEach((file, index) => {\n                        formData.append('attachments', file.raw);\n                    });\n                }\n                const res = await axios.post('/api/infoPage/createCourse',formData,{\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken'),\n                    }\n                })\n                if(res.data.type == 'success'){\n                    this.getCourseList();\n                    \n                    // 重置\n                    this.dialogFormVisible = false;\n                    this.form = {\n                        courseName:'',\n                        courseId:'',\n                        lecturer:''\n                    },\n\n                    // 獲取使用容量\n                    this.$bus.$emit('getUsageMemory')\n                    this.$bus.$emit('handleAlert','專欄資料創建通知',res.data.message,res.data.type)\n                }\n                else this.$bus.$emit('handleAlert','專欄資料創建通知',res.data.message,res.data.type)\n            },\n            async deleteCourse(courseId, idx){\n                try{\n                    await this.$confirm(`確認是否刪除專欄 (${courseId})?`, '提示', {\n                        confirmButtonText: '刪除',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    })\n                    const res = await axios.delete(`/api/infoPage/deleteCourse/${idx}`,{\n                        headers:{\n                            'x-user-token':jsCookie.get('authToken')\n                        }\n                    })\n                    if(res.data.type == 'success'){\n                        this.getCourseList();\n                        // 獲取使用容量\n                        this.$bus.$emit('getUsageMemory')\n                        this.$bus.$emit('handleAlert','專欄資料刪除通知',res.data.message,res.data.type)\n                    }\n                    else this.$bus.$emit('handleAlert','專欄資料刪除通知',res.data.message,res.data.type)\n                }\n                catch(e){}\n            },\n            async stopCourse(courseId, idx){\n                try{\n                    await this.$confirm(`確認是否變更專欄 (${courseId}) 權限?`, '提示', {\n                        confirmButtonText: '確認',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    })\n                    const res = await axios.put(`/api/infoPage/stopCourse/${idx}`,{},{\n                        headers:{\n                            'x-user-token':jsCookie.get('authToken')\n                        }\n                    })\n                    if(res.data.type == 'success'){\n                        this.getCourseList();\n                        this.$bus.$emit('handleAlert','專欄權限變更通知',res.data.message,res.data.type)\n                    }\n                    else this.$bus.$emit('handleAlert','專欄權限變更通知',res.data.message,res.data.type)\n                }\n                catch(e){}\n            },\n            // 創建專欄的 banner 上傳\n            handleUpload(file){\n                this.fileList.push(file)\n            },\n            handleRemove(file) {\n                const index = this.fileList.indexOf(file);\n                if (index !== -1) this.fileList.splice(index, 1);\n            },\n            handlePictureCardPreview(file) {\n                this.dialogImageUrl = file.url;\n                this.dialogVisible = true;\n            },\n\n            // 指派專欄\n            async openStudentList(target){\n                this.setStudentList.idx = target.idx;\n                this.setStudentList.courseId = target.courseId;\n                this.setStudentList.lecturer = target.lecturer;\n\n                // 刷新數據\n                await this.getStudentList();\n                await this.getCourseList();\n\n                // 設置學生資料\n                const course = this.tableData.filter((course)=> course.idx == target.idx)[0];\n                this.setStudentList.studentList = course.studentList;\n                \n                // 開啟視窗\n                this.dialogFormVisible2 = true;\n            },\n            async pushStudentList(){\n                try{\n                    await this.$confirm(`確認是否修改專欄 (${this.setStudentList.courseId})?`, '提示', {\n                        confirmButtonText: '確認',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    })\n                    const res = await axios.post('/api/infoPage/setStudentToCourse',this.setStudentList,{\n                        headers:{\n                            'x-user-token':jsCookie.get('authToken')\n                        }\n                    })\n                    if(res.data.type == 'success'){\n                        this.getCourseList();\n                        this.getStudentList();\n                        this.dialogFormVisible2 = false;\n                        this.setStudentList = {\n                            idx:'',\n                            courseId:'',\n                            lecturer:'',\n                            studentList:[]\n                        },\n                        this.$bus.$emit('handleAlert','專欄修改通知',res.data.message,res.data.type)\n                    }\n                    else this.$bus.$emit('handleAlert','專欄修改通知',res.data.message,res.data.type)\n                }\n                catch(e){}\n            },\n            customFilter(query, item) {\n                return item.name.toLowerCase().includes(query.toLowerCase()) ||\n                item.account.toLowerCase().includes(query.toLowerCase())\n            },\n        }\n    }\n    </script>\n    \n    <style scoped>\n        .table{\n            width: 95%;\n            margin: 0 auto;\n            margin-top: 20px;\n        }\n        .tableTitle{\n            line-height: 85px;\n            text-align: center;\n            display: flex;\n            align-items: center;\n        }\n        .tableTitle_left{\n            float: left;\n            font-size: 24px;\n        }\n        .tableTitle_right{\n            height: 40px;\n            text-align: center;\n            /* 放置最右邊 */\n            margin-left: auto;\n            font-size: 14px;\n        }\n        .tableTitle_right:hover{\n            cursor: pointer;\n            color: blue;\n        }\n        .valid{\n            color: lightgreen;\n        }\n        .invalid{\n            color: rgb(170, 170, 170);\n        }\n        .btn{\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n        }\n        .btn_link{\n            font-size: 14px;\n        }\n        .btn_link:hover{\n            cursor: pointer;\n        }\n        .transfer{\n            width:90%;\n            margin: 0 auto;\n        }\n        .class_banner_title{\n            margin-top: 20px;\n            margin-bottom: 20px;\n        }\n        ::v-deep .el-dialog{\n            width: 720px;\n            margin-top: 5vh !important;\n        }\n        ::v-deep .el-transfer-panel__empty{\n            display: none;\n        }\n        ::v-deep .el-upload--picture-card, ::v-deep .el-upload-list__item {\n            width: 260px !important;\n            height: 130px !important;\n            line-height: 130px !important; /* 讓圖標垂直置中 */\n        }\n    </style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TeacherCourseTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TeacherCourseTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TeacherCourseTable.vue?vue&type=template&id=bdfba4c4&scoped=true\"\nimport script from \"./TeacherCourseTable.vue?vue&type=script&lang=js\"\nexport * from \"./TeacherCourseTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./TeacherCourseTable.vue?vue&type=style&index=0&id=bdfba4c4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bdfba4c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"tableTitle\"},[_c('div',{staticClass:\"tableTitle_left\"},[_vm._v(\"用戶總覽\")]),_c('div',{staticClass:\"tableTitle_right\"},[_c('el-button',{on:{\"click\":function($event){return _vm.editSelf()}}},[_vm._v(\"編輯個人資料\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增用戶\")])],1)]),_c('el-table',{staticClass:\"tableData\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"height\":\"calc(100vh - 360px)\",\"empty-text\":\"暫無數據\"}},[_c('el-table-column',{attrs:{\"prop\":\"level\",\"label\":\"會員階級\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_vm._v(\" Lv\"+_vm._s(row.level? `${row.level.level} ${row.level.levelTitle}`:'')+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"用戶姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"lastOnline\",\"label\":\"上次訪問時間\"}}),_c('el-table-column',{attrs:{\"prop\":\"fingerprint\",\"label\":\"裝置識別碼\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_c('div',{staticClass:\"fingerprint\",on:{\"click\":function($event){return _vm.copyFingerPrint(row.fingerprint)}}},[_vm._v(\" \"+_vm._s(row.fingerprint)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"狀態\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{class:scope.row.status?'valid':'invalid'},[_vm._v(_vm._s(scope.row.status?'有效':'凍結'))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"管理操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"btn\"},[_c('el-button',{staticClass:\"btn_link\",on:{\"click\":function($event){return _vm.editUser(scope.row.idx)}}},[_vm._v(\"查看\")]),_c('el-button',{staticClass:\"btn_link\",attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.stopUser(scope.row.account,scope.row.idx)}}},[_vm._v(_vm._s(scope.row.status?'凍結':'解凍'))]),_c('el-button',{staticClass:\"btn_link\",attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteUser(scope.row.account,scope.row.idx)}}},[_vm._v(\"刪除\")])],1)]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"創建用戶\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"用戶帳號\"}},[_c('el-input',{attrs:{\"placeholder\":\"若要創建訪客帳號，請命名為 Visitor\",\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", $$v)},expression:\"form.account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用戶名稱\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用戶密碼\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"show-password\":\"\",\"clearable\":\"\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create()}}},[_vm._v(\"創建\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"tableTitle\">\n        <div class=\"tableTitle_left\">用戶總覽</div>\n        <div class=\"tableTitle_right\">\n            <el-button  @click=\"editSelf()\">編輯個人資料</el-button>\n            <el-button  @click=\"dialogFormVisible = true\">新增用戶</el-button>\n        </div>\n    </div>\n        <el-table :data=\"tableData\" border height=\"calc(100vh - 360px)\" style=\"width: 100%\" class=\"tableData\" empty-text=\"暫無數據\">\n            <el-table-column prop=\"level\" label=\"會員階級\">\n                <template #default=\"{ row }\">\n                    Lv{{ row.level? `${row.level.level} ${row.level.levelTitle}`:''}}\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"用戶姓名\"></el-table-column>\n            <el-table-column prop=\"lastOnline\" label=\"上次訪問時間\"></el-table-column>\n            <el-table-column prop=\"fingerprint\" label=\"裝置識別碼\">\n                <template #default=\"{ row }\">\n                    <div class=\"fingerprint\" @click=\"copyFingerPrint(row.fingerprint)\">\n                        {{ row.fingerprint }}\n                    </div>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"status\" label=\"狀態\">\n                <template v-slot=\"scope\">\n                    <div :class=\"scope.row.status?'valid':'invalid'\">{{ scope.row.status?'有效':'凍結' }}</div>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"管理操作\" width=\"250\">\n                <template v-slot=\"scope\">\n                    <div class=\"btn\">\n                        <el-button class=\"btn_link\" @click=\"editUser(scope.row.idx)\">查看</el-button>\n                        <el-button class=\"btn_link\" type=\"warning\" @click=\"stopUser(scope.row.account,scope.row.idx)\">{{scope.row.status?'凍結':'解凍'}}</el-button>\n                        <el-button class=\"btn_link\" type=\"danger\" @click=\"deleteUser(scope.row.account,scope.row.idx)\">刪除</el-button>\n                    </div>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-dialog title=\"創建用戶\" :visible.sync=\"dialogFormVisible\">\n            <el-form :model=\"form\">\n                <el-form-item label=\"用戶帳號\">\n                    <el-input v-model=\"form.account\"  placeholder=\"若要創建訪客帳號，請命名為 Visitor\" autocomplete=\"off\" clearable></el-input>\n                </el-form-item>\n                <el-form-item label=\"用戶名稱\">\n                    <el-input v-model=\"form.name\" autocomplete=\"off\" clearable></el-input>\n                </el-form-item>\n                <el-form-item label=\"用戶密碼\">\n                    <el-input v-model=\"form.password\" autocomplete=\"off\" show-password clearable></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n                <el-button type=\"primary\" @click=\"create()\">創建</el-button>\n            </div>\n        </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport jsCookie from 'js-cookie'\nexport default {\n    name:'ClientTable',\n    data(){\n        return{\n            tableData: [],\n            dialogFormVisible:false,\n            form:{\n                account:'',\n                password:'',\n                name:'',\n                type:'student'\n            },\n        }\n    },\n    mounted(){\n        this.getData()\n    },\n    methods:{\n        async getData(){\n            const res = await axios.get('/api/infoPage/getStudent',{\n                headers:{\n                    'x-user-token':jsCookie.get('authToken')\n                }\n            })\n            if(res.data.students) {\n                this.tableData = res.data.students\n                this.$bus.$emit('setStudentNum',this.tableData.length)\n            }\n            else this.$bus.$emit('handleAlert','用戶資料查詢通知',res.data.message,res.data.type)\n        },\n        async create(){\n            const res = await axios.post('/api/infoPage/createStudent',this.form,{\n                headers:{\n                    'x-user-token':jsCookie.get('authToken')\n                }\n            })\n            if(res.data.type == 'success'){\n                this.getData();\n                this.dialogFormVisible = false;\n                this.form.account = '';\n                this.form.password = '';\n                this.form.name = '';\n                this.$bus.$emit('handleAlert','用戶資料創建通知',res.data.message,res.data.type)\n            }\n            else this.$bus.$emit('handleAlert','用戶資料創建通知',res.data.message,res.data.type)\n        },\n        async deleteUser(account, idx){\n            try{\n                await this.$confirm(`確認是否刪除用戶 (${account})?`, '提示', {\n                    confirmButtonText: '刪除',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                })\n                const res = await axios.delete(`/api/infoPage/deleteStudent/${idx}`,{\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                })\n                if(res.data.type == 'success'){\n                    this.getData();\n                    this.$bus.$emit('getUsageMemory')\n                    this.$bus.$emit('handleAlert','用戶資料刪除通知',res.data.message,res.data.type)\n                }\n                else this.$bus.$emit('handleAlert','用戶資料刪除通知',res.data.message,res.data.type)\n            }\n            catch(e){}\n        },\n        async stopUser(account, idx){\n            try{\n                await this.$confirm(`確認是否變更用戶 (${account}) 權限?`, '提示', {\n                    confirmButtonText: '確認',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                })\n                const res = await axios.put(`/api/infoPage/stopStudent/${idx}`,{},{\n                    headers:{\n                        'x-user-token':jsCookie.get('authToken')\n                    }\n                })\n                if(res.data.type == 'success'){\n                    this.getData();\n                    this.$bus.$emit('handleAlert','用戶權限變更通知',res.data.message,res.data.type)\n                }\n                else this.$bus.$emit('handleAlert','用戶權限變更通知',res.data.message,res.data.type)\n            }\n            catch(e){}\n        },\n        async editSelf(){\n            this.$router.push({ path: '/academic/modifyInfo', query: { idx: this.$bus.$currentUser.idx } }).catch(e => {})\n        },\n        async editUser(idx){\n            this.$router.push({ path: '/academic/modifyInfo', query: { idx:idx } }).catch(e => {})\n        },\n        async copyFingerPrint(text){\n            this.$bus.$emit('copyToClipboard','複製裝置碼通知',text);\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .table{\n        width: 95%;\n        margin: 0 auto;\n        margin-top: 20px;\n    }\n    .tableTitle{\n        line-height: 85px;\n        text-align: center;\n        display: flex;\n        align-items: center;\n    }\n    .tableTitle_left{\n        float: left;\n        font-size: 24px;\n    }\n    .tableTitle_right{\n        height: 40px;\n        text-align: center;\n        /* 放置最右邊 */\n        margin-left: auto;\n        font-size: 14px;\n        display: flex;\n        align-items: center;\n    }\n    .tableTitle_right:hover{\n        cursor: pointer;\n        color: blue;\n    }\n    .valid{\n        color: lightgreen;\n    }\n    .invalid{\n        color: rgb(170, 170, 170);\n    }\n    .btn{\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .btn_link{\n        font-size: 14px;\n    }\n    .btn_link:hover{\n        cursor: pointer;\n    }\n    .fingerprint {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1; /* 最多顯示兩行 */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all; /* 長字自動換行 */\n    }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClientTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClientTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ClientTable.vue?vue&type=template&id=2a22a25f&scoped=true\"\nimport script from \"./ClientTable.vue?vue&type=script&lang=js\"\nexport * from \"./ClientTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./ClientTable.vue?vue&type=style&index=0&id=2a22a25f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a22a25f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"logo\"},[_c('img',{staticClass:\"logo_img\",attrs:{\"src\":\"img/horizontal_logo_white.png\",\"alt\":\"\"},on:{\"click\":function($event){return _vm.goTo('/')}}})]),_c('div',{staticClass:\"contact\"},[_c('div',{staticClass:\"contact_item\",on:{\"click\":function($event){return _vm.scrollToSection('top')}}},[_vm._v(\"前往探索\")]),_c('div',{staticClass:\"contact_item\",on:{\"click\":function($event){return _vm.scrollToSection('developer')}}},[_vm._v(\"版主介紹\")]),_c('div',{staticClass:\"contact_item\",on:{\"click\":function($event){return _vm.scrollToSection('contact')}}},[_vm._v(\"聯絡我們\")])])]),_c('div',{ref:\"top\",staticClass:\"top\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title_block\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Lemon's Websites\")]),_c('div',{staticClass:\"subTitle\"},[_c('div',{ref:\"subText\",staticClass:\"subText\"},[_vm._v(_vm._s(_vm.subTitle))])]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"btn btn-1\",on:{\"click\":function($event){return _vm.goTo('/academic')}}},[_vm._v(\"進入基地 \"),_c('i',{staticClass:\"fa-solid fa-arrow-right start-arrow\"})]),_c('div',{staticClass:\"btn btn-2\",on:{\"click\":function($event){return _vm.scrollToSection('developer')}}},[_vm._v(\"版主介紹 \"),_c('i',{staticClass:\"fa-solid fa-chevron-right\"})])])]),_c('div',{staticClass:\"carousel\"},[_c('el-carousel',{attrs:{\"interval\":3000,\"type\":\"card\",\"height\":\"281.25px\"}},_vm._l((_vm.banner),function(item,id){return _c('el-carousel-item',{key:id},[_c('div',{staticClass:\"medium\"},[_c('img',{attrs:{\"src\":item,\"alt\":\"\"}})])])}),1)],1)])]),_c('div',{ref:\"developer\",staticClass:\"developer\"},[_c('div',{staticClass:\"developer_title\"},[_vm._v(\"版主介紹\")]),_vm._m(0)]),_c('div',{ref:\"contact\",staticClass:\"footer\"},[_vm._m(1)]),_c('div',{staticClass:\"back\",on:{\"click\":function($event){return _vm.scrollToSection('top')}}},[_c('i',{staticClass:\"fa-solid fa-angles-up\"})])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"developer_content\"},[_c('div',{staticClass:\"developer_img\"},[_c('img',{attrs:{\"src\":\"img/author.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"developer_intro_box\"},[_c('div',{staticClass:\"developer_name\"},[_vm._v(\"主要作者：林英豪\")]),_c('div',{staticClass:\"developer_detail\"},[_vm._v(\" 嗨，我是林英豪，也可以叫我 SCLemon。目前就讀於國立清華大學碩士學位，研究領域為「前瞻半導體二維材料元件設計」。同時，我對人工智慧、前端開發與投資研究也充滿熱情。從理論到實作，我喜歡把想法化為具體成果──無論是自行訓練 LSTM 股價預測模型、嘗試大語言模型的本地部署，還是開發 Vue.js 專案與 Chrome 擴充功能，都是我探索的旅程。 \"),_c('br'),_vm._v(\"在學習與研究的過程中，我不僅追求技術上的突破，也重視創意與應用的延展。對我來說，科技就像「檸檬」──看似平凡，卻能激發無限可能，既能為生活增添風味，也能成為靈感的起點。這裡是我的小小天地，用來分享我的學習、作品與想法。如果你也對人工智慧、程式設計，或是創新的投資思維感興趣，歡迎一起交流，探索更廣闊的世界。 \")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"footer_item\"},[_c('div',[_vm._v(\"聯絡方式：blc0000421@gmail.com\")]),_c('div',[_vm._v(\"Copyright © 2025 Lemon's Universe All Rights Reserved\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"view\">\n        <div class=\"header\">\n            <div class=\"logo\"><img class=\"logo_img\" src=\"img/horizontal_logo_white.png\" alt=\"\" @click=\"goTo('/')\"></div>\n            <div class=\"contact\">\n                <div class=\"contact_item\" @click=\"scrollToSection('top')\">前往探索</div>\n                <div class=\"contact_item\" @click=\"scrollToSection('developer')\">版主介紹</div>\n                <div class=\"contact_item\" @click=\"scrollToSection('contact')\">聯絡我們</div>\n            </div>\n        </div>\n        <div class=\"top\" ref=\"top\">\n            <div class=\"content\">\n                <div class=\"title_block\">\n                    <div class=\"title\">Lemon's Websites</div>\n                    <div class=\"subTitle\"><div class=\"subText\" ref=\"subText\">{{ subTitle }}</div></div>\n                    <div class=\"box\">\n                        <div class=\"btn btn-1\" @click=\"goTo('/academic')\">進入基地 <i class=\"fa-solid fa-arrow-right start-arrow\"></i></div>\n                        <div class=\"btn btn-2\" @click=\"scrollToSection('developer')\">版主介紹 <i class=\"fa-solid fa-chevron-right\"></i></div>\n                    </div>\n                </div>\n                <div class=\"carousel\">\n                    <el-carousel :interval=\"3000\" type=\"card\" height=\"281.25px\">\n                        <el-carousel-item v-for=\"(item,id) in banner\" :key=\"id\">\n                            <div class=\"medium\">\n                                <img :src=\"item\" alt=\"\">\n                            </div>\n                        </el-carousel-item>\n                    </el-carousel>\n                </div>\n            </div>\n        </div>\n        <div class=\"developer\" ref=\"developer\">\n            <div class=\"developer_title\">版主介紹</div>\n            <div class=\"developer_content\">\n                <div class=\"developer_img\"><img src=\"img/author.jpg\" alt=\"\"></div>\n                <div class=\"developer_intro_box\">\n                    <div class=\"developer_name\">主要作者：林英豪</div>\n                    <div class=\"developer_detail\">\n                  嗨，我是林英豪，也可以叫我 SCLemon。目前就讀於國立清華大學碩士學位，研究領域為「前瞻半導體二維材料元件設計」。同時，我對人工智慧、前端開發與投資研究也充滿熱情。從理論到實作，我喜歡把想法化為具體成果──無論是自行訓練 LSTM 股價預測模型、嘗試大語言模型的本地部署，還是開發 Vue.js 專案與 Chrome 擴充功能，都是我探索的旅程。\n                 <br>在學習與研究的過程中，我不僅追求技術上的突破，也重視創意與應用的延展。對我來說，科技就像「檸檬」──看似平凡，卻能激發無限可能，既能為生活增添風味，也能成為靈感的起點。這裡是我的小小天地，用來分享我的學習、作品與想法。如果你也對人工智慧、程式設計，或是創新的投資思維感興趣，歡迎一起交流，探索更廣闊的世界。\n                </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"footer\" ref=\"contact\">\n            <div class=\"footer_item\">\n                <div>聯絡方式：blc0000421@gmail.com</div>\n                <div>Copyright © 2025 Lemon's Universe All Rights Reserved</div>\n            </div>\n        </div>\n        <div class=\"back\" @click=\"scrollToSection('top')\"><i class=\"fa-solid fa-angles-up\"></i></div>\n    </div>\n</template>\n  \n<script>\nexport default {\n    name: \"Index\",\n    data(){\n        return {\n            banner:['img/banner1.jpg','img/banner2.jpg','img/banner3.jpg'],\n            subTitle:'Step into Lemon’s Universe — A Journey of Curiosity, Creation, and Endless Discovery.'\n        }\n    },\n    mounted(){\n        setTimeout(() => {\n            try{\n                let el = this.$refs.subText;\n                if(el) el.style = 'border-right:none;'\n            }\n            catch(e){}\n        }, 6500);\n    },\n    methods: {\n        goTo(path){\n            this.$router.push(path).catch((e)=>{})\n        },\n        scrollToSection(refName) {\n            const element = this.$refs[refName];\n            if (element) {\n                const offset = 120;\n                const top = element.getBoundingClientRect().top + window.pageYOffset - offset;\n\n                window.scrollTo({\n                    top,\n                    behavior: 'smooth'\n                });\n            }\n        }\n    },\n    beforeDestroy(){\n        \n    }\n};\n</script>\n  \n<style scoped>\n    .view{\n        min-width: 1440px;\n    }\n    .back{\n        position: fixed;\n        bottom: 105px;\n        right: 15px;\n        width: 60px;\n        height: 60px;\n        text-align: center;\n        line-height: 60px;\n        color: white;\n        font-size: 24px;\n        text-shadow: 1px 1px 1px black;\n        background: rgba(0,0,0,0.3);\n        border-radius: 5px;\n    }\n    .back:hover{\n        cursor: pointer;\n        background: rgba(0,0,0,0.6);\n    }\n    .header{\n        width: 100vw;\n        min-width: 1440px;\n        height: 90px;\n        display: flex;\n        position: fixed;\n        top:0;\n        left: 0;\n        align-items: center;\n        background: black;\n        z-index: 3;\n    }\n    .logo{\n        width: 250px;\n        margin-left: 15px;\n    }\n    .logo_img{\n        width:100%;\n    }\n    .logo_img{\n        cursor: pointer;\n    }\n    .contact{\n        width: auto;\n        height: 40px;\n        line-height: 40px;\n        font-size: 14px;\n        color: rgb(230,230,230);\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n        margin-left: auto;\n        margin-right: 10px;\n        transition: all 0.25s;\n    }\n    .contact_item:hover{\n        cursor: pointer;\n        color: white;\n    }\n    .contact_item{\n        width: 100px;\n    }\n    .top {\n        width: 100vw;\n        min-width: 1440px;\n        height: 100vh;\n        min-height: 858px;\n        color: white;\n        background: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .content{\n        width: 1000px;\n        height: 580px;\n        position: relative;\n    }\n    .time{\n        font-weight: 500;\n        text-align: center;\n        font-size: 14px;\n    }\n    .title_block{\n        width: 1000px;\n        margin: 0 auto;\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n    }\n    .title {\n        font-weight: bolder;\n        text-align: center;\n        font-size: 64px;\n        line-height: 2;\n    }\n    .subTitle {\n        text-align: left;\n        line-height: 17px;\n        width: auto;\n        margin: 0 auto;\n    }\n    .subText {\n        white-space: nowrap;\n        overflow: hidden;\n        border-right: 2px solid white;\n        color: black;\n        padding-right: 2px;\n        width: 0;\n        animation: typing 4s steps(77) 1s 1 normal forwards, blink 0.75s step-end infinite;\n    }\n\n    @keyframes typing {\n        0% {\n            width: 0;\n            color: white;\n            border-right: 2px solid white;\n        }\n        100% {\n            width: 100%;\n            color: white;\n        }\n    }\n    @keyframes blink {\n        0% {\n            border-right-color: white;\n        }\n        50% {\n            border-right-color: transparent;\n        }\n        100% {\n            border-right-color: white;\n        }\n    }\n    .box {\n        width: 250px;\n        height: 50px;\n        border-radius: 50px;\n        margin: 0 auto;\n        margin-top: 40px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .start-arrow{\n        transform: rotate(-45deg);\n    }\n    .btn{\n        width: 120px;\n        height: 40px;\n        line-height: 40px;    \n        text-align: center;\n        font-size: 14px;\n    }\n    .btn:hover{\n        cursor: pointer;\n    }\n    .btn-1{\n        color: white;\n        margin-right: 10px;\n        border-radius: 40px;\n        border: 1px solid black;\n        color: black;\n        background: rgb(230,230,230);  \n        transition: all 0.25s;\n    }\n    .btn-1:hover{\n        background: white;\n    }\n    .btn-2{\n        color: rgb(230,230,230);\n        transition: all 0.25s;\n    }\n    .btn-2:hover{\n        color:white;\n    }\n    .carousel{\n        width: 1000px;\n        margin: 0 auto;\n        margin-top: 40px;\n        position: absolute;\n        bottom: 0;\n    }\n    .meduim{\n        width: 100%;\n    }\n    .medium>img{\n        width: 100%;\n    }\n    .el-carousel__item:nth-child(2n) {\n        background-color: #99a9bf;\n    }\n    \n    .el-carousel__item:nth-child(2n+1) {\n        background-color: #d3dce6;\n    }\n    ::v-deep .el-carousel__indicator--horizontal{\n        display: none !important;\n    }\n\n    .intro{\n        width: 100%;\n    }\n    .intro_title_1{\n        width: 90%;\n        height: 100px;\n        margin: 0 auto;\n        line-height: 100px;\n        text-align: left;\n        font-size: 28px;\n        font-weight: bolder;\n    }\n    .intro_title_2{\n        width: 90%;\n        height: 100px;\n        margin: 0 auto;\n        line-height: 100px;\n        text-align: right;\n        font-size: 28px;\n        font-weight: bolder;\n    }\n    .intro_simple_box{\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .intro_simple{\n        width: 50%;\n    }\n    .intro_img{\n        width: 540.44px;\n        height: 304px;\n    }\n    .intro_img>img{\n        width: 100%;\n    }\n    .intro_text_title{\n        width: 95%;\n        margin: 0 auto;\n        font-weight: bolder;\n        margin-bottom: 10px;\n        line-height: 2;\n        font-size: 18px;\n    }\n    .intro_text{\n        width: 95%;\n        margin: 0 auto;\n        line-height: 2;\n        text-align: justify;\n        margin-bottom: 10px;\n    }\n    .calculator{\n        width: 100%;\n        background: black;\n        margin-top: 40px;\n        color: white;\n    }\n    .calculator_title{\n        width: 90%;\n        height: 100px;\n        margin: 0 auto;\n        line-height: 100px;\n        text-align: center;\n        font-size: 28px;\n        font-weight: bolder;\n    }\n    .calculator_box_all{\n        width: 100%;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n        padding-bottom: 40px;\n    }\n    .calculator_box{\n        width: 23%;\n        height: 280px;\n        border-radius: 10px;\n        border: 0.1px solid gray;\n        box-shadow: 6px 6px 10px white;\n    }\n    .calculator_box_title{\n        width: 100%;\n        height: 80px;\n        line-height: 80px;\n        font-size: 24px;\n        text-align: center;\n    }\n    .calculator_detail{\n        width: 90%;\n        margin: 0 auto;\n    }\n    .detail{\n        line-height: 45px;\n    }\n    .developer{\n        width: 100%;\n        margin-bottom: 25px;\n    }\n    .developer_title{\n        width: 100%;\n        height: 80px;\n        line-height: 80px;\n        font-size: 28px;\n        text-align: center;\n        font-weight: bolder;\n    }\n    .developer_content{\n        width: 100%;\n        height: 300px;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .developer_img{\n        width: 270px;\n        height: 270px;\n        border-radius: 270px;\n        overflow: hidden;\n    }\n    .developer_img>img{\n        width: 100%;\n    }\n    .developer_intro_box{\n        width: 1000px;\n        height: 270px;\n    }\n    .developer_name{\n        width: 100%;\n        height: 65px;\n        font-size: 24px;\n        font-weight: bolder;\n        line-height: 65px;\n    }\n    .developer_intro{\n        width: 100%;\n        height: 190px;\n        text-align: justify;\n        padding: 10px;\n        box-sizing: border-box;\n    }\n    .developer_detail{\n        text-align: justify;\n        line-height: 2;\n    }\n    .footer{\n        width: 100%;\n        height: 110px;\n        background: black;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .footer_item{\n        line-height: 2;\n        text-align: center;\n    }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=67003ee4&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=67003ee4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67003ee4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"header\"},[_vm._v(\"使用者資料維護 \"),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.modifyData()}}},[_vm._v(\"更新資料\")])],1),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"userInfoBox\"},[_c('div',{staticClass:\"user_info\"},[_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"input_title\"},[_vm._v(\"帳號：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入使用者學號\",\"disabled\":\"\"},model:{value:(_vm.userInfo.account),callback:function ($$v) {_vm.$set(_vm.userInfo, \"account\", $$v)},expression:\"userInfo.account\"}})],1),_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"input_title\"},[_vm._v(\"姓名：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入使用者姓名\"},model:{value:(_vm.userInfo.name),callback:function ($$v) {_vm.$set(_vm.userInfo, \"name\", $$v)},expression:\"userInfo.name\"}})],1),_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"input_title\"},[_vm._v(\"密碼：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入使用者密碼\",\"show-password\":\"\"},model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}})],1),_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"input_title\"},[_vm._v(\"電話：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入電話號碼\"},model:{value:(_vm.userInfo.phone),callback:function ($$v) {_vm.$set(_vm.userInfo, \"phone\", $$v)},expression:\"userInfo.phone\"}})],1),_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"input_title\"},[_vm._v(\"電子信箱：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入電子信箱\"},model:{value:(_vm.userInfo.mailAddress),callback:function ($$v) {_vm.$set(_vm.userInfo, \"mailAddress\", $$v)},expression:\"userInfo.mailAddress\"}})],1),_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"input_title\"},[_vm._v(\"住家地址：\")]),_c('el-input',{attrs:{\"placeholder\":\"請輸入住家地址\"},model:{value:(_vm.userInfo.address),callback:function ($$v) {_vm.$set(_vm.userInfo, \"address\", $$v)},expression:\"userInfo.address\"}})],1)]),_c('div',{staticClass:\"user_img_box\"},[_c('div',{staticClass:\"user_img\",on:{\"click\":function($event){return _vm.openFile()}}},[_c('img',{attrs:{\"src\":_vm.userInfo.userImgUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"uploadImgBtn\"},[_vm._v(\"點擊上傳\")])]),_c('input',{ref:\"imgFile\",staticClass:\"imgFile\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.handleChangeFile()}}})])]),_c('div',{staticClass:\"id_card_box\"},[_c('div',{ref:\"forward\",staticClass:\"id_card id_card_forward\"},[_vm._m(0),_c('div',{staticClass:\"id_card_forward_name_title\"},[_vm._v(\"姓名/Name\")]),_c('div',{staticClass:\"id_card_forward_name\"},[_vm._v(_vm._s(_vm.userInfo.name))]),_c('div',{staticClass:\"id_card_forward_id_title\"},[_vm._v(\"證號/\"+_vm._s(_vm.userInfo.type=='teacher'?'Admin':'Member')+\" ID\")]),_c('div',{staticClass:\"id_card_forward_id\"},[_vm._v(_vm._s(_vm.userInfo.account))]),_c('div',{staticClass:\"id_card_forward_imgBox\"},[_c('img',{attrs:{\"src\":_vm.userInfo.userImgUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"id_card_forward_barcode\"},[_c('svg',{ref:\"barcode\"})]),_c('div',{staticClass:\"id_card_forward_type_box\"},[_c('div',{staticClass:\"id_card_forward_type\"},[_vm._v(_vm._s(_vm.userInfo.level? _vm.userInfo.level.levelTitle:''))]),_c('div',{staticClass:\"id_card_forward_type_eng\"},[_vm._v(_vm._s(_vm.userInfo.type=='teacher'?'Admin':'Member')+\" ID Card\")])])]),_c('div',{ref:\"backward\",staticClass:\"id_card id_card_backward\"},[_vm._m(1)]),_c('div',{staticClass:\"id_card_download\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"manageLevelTitle\"},[_vm._v(\"調整會員等級\")]),_c('el-select',{attrs:{\"placeholder\":\"請選擇等級\"},model:{value:(_vm.userInfo.level.level),callback:function ($$v) {_vm.$set(_vm.userInfo.level, \"level\", $$v)},expression:\"userInfo.level.level\"}},_vm._l((_vm.levelTitleArray),function(item,id){return _c('el-option',{key:id,attrs:{\"label\":`Lv${id+1} ${item}`,\"value\":id+1}})}),1)],1),_c('div',[_c('el-button',{staticClass:\"download_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.downloadForward()}}},[_vm._v(\"下載卡片正面\")])],1),_c('div',[_c('el-button',{staticClass:\"download_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.downloadBackward()}}},[_vm._v(\"下載卡片背面\")])],1)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"id_card_forward_top\"},[_c('img',{attrs:{\"src\":\"img/horizontal_logo.png\",\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"id_card_backward_center\"},[_c('div',{staticClass:\"id_card_backward_center_first\"},[_vm._v(\"Knowledge lights the future\")]),_c('div',{staticClass:\"id_card_backward_center_first\"},[_vm._v(\"Learning creates possibilities\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"header\">使用者資料維護\n        <el-button type=\"primary\" class=\"btn\" :loading=\"loading\" @click=\"modifyData()\">更新資料</el-button>\n    </div>\n    <div class=\"box\">\n        <div class=\"userInfoBox\">\n            <div class=\"user_info\">\n                <div class=\"inputBox\"><div class=\"input_title\">帳號：</div><el-input placeholder=\"請輸入使用者學號\" disabled v-model=\"userInfo.account\"></el-input></div>\n                <div class=\"inputBox\"><div class=\"input_title\">姓名：</div><el-input placeholder=\"請輸入使用者姓名\" v-model=\"userInfo.name\"></el-input></div>\n                <div class=\"inputBox\"><div class=\"input_title\">密碼：</div><el-input placeholder=\"請輸入使用者密碼\" show-password v-model=\"userInfo.password\"></el-input></div>\n                <div class=\"inputBox\"><div class=\"input_title\">電話：</div><el-input placeholder=\"請輸入電話號碼\" v-model=\"userInfo.phone\"></el-input></div>\n                <div class=\"inputBox\"><div class=\"input_title\">電子信箱：</div><el-input placeholder=\"請輸入電子信箱\" v-model=\"userInfo.mailAddress\"></el-input></div>\n                <div class=\"inputBox\"><div class=\"input_title\">住家地址：</div><el-input placeholder=\"請輸入住家地址\" v-model=\"userInfo.address\"></el-input></div>\n            </div>\n            <div class=\"user_img_box\">\n                <div class=\"user_img\" @click=\"openFile()\">\n                    <img :src=\"userInfo.userImgUrl\" alt=\"\">\n                    <div class=\"uploadImgBtn\">點擊上傳</div>\n                </div>\n                <input type=\"file\" class=\"imgFile\" ref=\"imgFile\" @change=\"handleChangeFile()\" accept=\"image/*\">\n            </div>\n        </div>\n        <div class=\"id_card_box\">\n            <div class=\"id_card  id_card_forward\" ref=\"forward\">\n                <div class=\"id_card_forward_top\"><img src=\"img/horizontal_logo.png\" alt=\"\"></div>\n                <div class=\"id_card_forward_name_title\">姓名/Name</div>\n                <div class=\"id_card_forward_name\">{{ userInfo.name }}</div>\n                <div class=\"id_card_forward_id_title\">證號/{{ userInfo.type=='teacher'?'Admin':'Member' }} ID</div>\n                <div class=\"id_card_forward_id\">{{userInfo.account}}</div>\n                <div class=\"id_card_forward_imgBox\"><img :src=\"userInfo.userImgUrl\" alt=\"\"></div>\n                <div class=\"id_card_forward_barcode\">\n                    <svg ref=\"barcode\"></svg>\n                </div>\n                <div class=\"id_card_forward_type_box\">\n                    <div class=\"id_card_forward_type\">{{userInfo.level? userInfo.level.levelTitle:''}}</div>\n                    <div class=\"id_card_forward_type_eng\">{{ userInfo.type=='teacher'?'Admin':'Member' }}  ID Card</div>\n                </div>\n                <!-- <div class=\"id_card_foward_center_logo\" ref=\"logo\"></div> -->\n            </div>\n            <div class=\"id_card id_card_backward\" ref=\"backward\">\n                <div class=\"id_card_backward_center\">\n                    <div class=\"id_card_backward_center_first\">Knowledge lights the future</div>\n                    <div class=\"id_card_backward_center_first\">Learning creates possibilities</div>\n                </div>\n            </div>\n            <div class=\"id_card_download\">\n                <div class=\"level\">\n                    <div class=\"manageLevelTitle\">調整會員等級</div>\n                    <el-select v-model=\"userInfo.level.level\" placeholder=\"請選擇等級\">\n                        <el-option v-for=\"(item,id) in levelTitleArray\" :key=\"id\" :label=\"`Lv${id+1} ${item}`\" :value=\"id+1\"></el-option>\n                    </el-select>\n                </div>\n                <div><el-button class=\"download_btn\" type=\"primary\" @click=\"downloadForward()\">下載卡片正面</el-button></div>\n                <div><el-button class=\"download_btn\" type=\"primary\" @click=\"downloadBackward()\">下載卡片背面</el-button></div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport jsCookie from 'js-cookie';\nimport JsBarcode from \"jsbarcode\";\nimport html2canvas from 'html2canvas';\nexport default {\n    name:'ModifyStudentInfo',\n\n    data(){\n        return {\n            loading: false,\n            idx:'',\n\n            // 上傳圖片的 file\n            file:{},\n            userInfo:{\n                idx:'',\n                type:'',\n                account:'',\n                name:'',\n                password:'',\n                phone:'',\n                mailAddress:'',\n                address:'',\n                level:{\n                    level:1,\n                    levelTitle:'新手會員'\n                },\n                userImgUrl:''\n            },\n            levelTitleArray:[],\n        }\n    },\n    async mounted(){\n        let idx = this.$route.query.idx;\n        if(!idx){\n            this.$bus.$emit('handleAlert','使用者資料維護通知','參數不可為空','error')\n            return\n        }\n        this.idx = idx;\n        await this.getData();\n    },\n    methods:{\n        async getData(){\n            const token = jsCookie.get('authToken')\n            const res = await axios.get(`/api/userInfo/getUserInfo/${this.idx}`,{\n                headers:{\n                    'x-user-token':token\n                }\n            })\n            if(res.data.type == 'success'){\n                res.data.user.userImgUrl += `?${new Date().getTime()}`\n                this.userInfo = res.data.user\n                this.levelTitleArray = res.data.levelTitleArray\n                this.$bus.$emit('updateCurrentUser')\n                this.generateBarcode()\n            }\n            else this.$bus.$emit('handleAlert','使用者資料獲取通知',res.data.message,res.data.type)\n        },\n        async modifyData(){\n            this.loading = true;\n            let formData = new FormData();\n            formData.append('userInfo',JSON.stringify(this.userInfo));\n            formData.append('attachments',this.file)\n            try{\n                const token = jsCookie.get('authToken')\n                const res = await axios.post(`/api/userInfo/modifyUserInfo/${this.idx}`,formData,{\n                    headers:{\n                        'x-user-token':token\n                    }\n                })\n                if(res.data.type == 'success'){\n                    this.$refs['imgFile'].value = '';\n                    this.getData();\n                    this.$bus.$emit('handleAlert','使用者資料更新通知',res.data.message,res.data.type)\n                }\n                else this.$bus.$emit('handleAlert','使用者資料更新通知',res.data.message,res.data.type)\n            }\n            catch(e){}\n            finally{\n                this.loading = false;\n            }\n        },\n        generateBarcode() {\n            const token = jsCookie.get('authToken')\n            JsBarcode(this.$refs.barcode, token, {\n                format: \"CODE128\",\n                displayValue: true,\n                lineColor: \"black\",\n                background: \"transparent\",\n                width: 2,\n                height: 100,\n                textMargin:20\n            });\n        },\n        openFile(){\n            this.$refs['imgFile'].click();\n        },\n        handleChangeFile(){\n            let file = this.$refs['imgFile'].files[0]\n            if (file) {\n                let reader = new FileReader();\n                reader.readAsDataURL(file);\n                reader.onload = () => {\n                    this.userInfo.userImgUrl = reader.result;\n                };\n                this.file = file;\n            }\n        },\n        downloadForward(){\n            const targetDiv = this.$refs.forward;\n            html2canvas(targetDiv, {\n                scale: 10,\n                useCORS: true \n            }).then(canvas => {\n                const link = document.createElement(\"a\");\n                link.href = canvas.toDataURL(\"image/png\");\n                link.download = \"forward.png\";\n                link.click();\n            });\n        },\n        downloadBackward(){\n            const targetDiv = this.$refs.backward;\n            html2canvas(targetDiv, {\n                scale: 10,\n                useCORS: true\n            }).then(canvas => {\n                const link = document.createElement(\"a\");\n                link.href = canvas.toDataURL(\"image/png\");\n                link.download = \"backward.png\";\n                link.click();\n            });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .header{\n        height: 80px;\n        width: 95%;\n        line-height: 80px;\n        font-size: 24px;\n        margin: 0 auto;\n        padding-left: 10px;\n        border-bottom: 1px solid rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n    }\n    .btn{\n        height: 40px;\n        margin-left: auto;\n        margin-right: 5px;\n    }\n    .box{\n        width: 95%;\n        margin: 0 auto;\n        margin-top: 10px;\n        height: calc(100vh - 120px);\n        box-sizing: border-box;\n    }\n    .userInfoBox{\n        width: 100%;\n        height: 370px;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .user_info{\n        width: 80%;\n        height: 370px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        padding-left: 10px;\n        padding-right: 20px;\n        box-sizing: border-box;\n    }\n    .inputBox{\n        display: flex;\n    }\n    .input_title{\n        height: 40px;\n        line-height: 40px;\n        width: 100px;\n    }\n    .user_img_box{\n        width: 20%;\n        height: 370px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n    .user_img{\n        width: 220px;\n        height: 282.86px;\n        border: 1px solid rgba(0,0,0,0.1);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        overflow: hidden;\n    }\n    .user_img:hover{\n        cursor: pointer;\n    }\n    .user_img>img{\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n    }\n    .imgFile{\n        display: none;\n    }\n    .uploadImgBtn{\n        width: 100%;\n        height: 40px;\n        position: absolute;\n        left: 0;\n        bottom: -40px;\n        text-align: center;\n        line-height: 40px;\n        color: white;\n        transition: bottom 1s;\n    }\n    .user_img:hover .uploadImgBtn{\n        bottom:0;\n        background-color: rgba(0,0,0,0.5);\n    }\n    .id_card_box{\n        width: 100%;\n        height: 280px;\n        margin: 0 auto;\n        margin-top: 10px;\n        display: flex;\n        align-items: center;\n    }\n    .id_card{\n        width: 412.3px !important;\n        height: 260px !important;\n        background: white;\n        border-radius: 15px;\n        box-sizing: border-box;\n        margin-left: 25px;\n        border: 1px solid rgba(0,0,0,0.1);\n        position: relative;\n        color: black;\n    }\n    .id_card_forward{\n        background-image: url(../../../public/logo_black.png);\n        background-size: 150px;\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n    .id_card_forward_top{\n        position: absolute;\n        top:10px;\n        left: 7px;\n        width: 190px;\n        z-index: 1;\n    }\n    .id_card_forward_top>img{\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n    }\n    .id_card_forward_name_title{\n        position: absolute;\n        left:20px;\n        top:75px;\n        font-size: 14px;\n        z-index: 1;\n    }\n    .id_card_forward_name{\n        position: absolute;\n        left:20px;\n        top:105px;\n        font-size: 14px;\n        z-index: 1;\n    }\n    .id_card_forward_id_title{\n        position: absolute;\n        left:20px;\n        top:135px;\n        font-size: 14px;\n        z-index: 1;\n    }\n    .id_card_forward_id{\n        position: absolute;\n        left:20px;\n        top:165px;\n        font-size: 14px;\n        z-index: 1;\n    }\n    .id_card_forward_imgBox{\n        width: 100px;\n        height: 128.57px;\n        position: absolute;\n        right: 28px;\n        top:65px;\n        z-index: 1;\n    }\n    .id_card_forward_imgBox>img{\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n    }\n    .id_card_forward_barcode{\n        width: 250px;\n        position: absolute;\n        left:15px;\n        bottom: 7px;\n        z-index: 1;\n    }\n    .id_card_forward_barcode>svg{\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n    }\n    .id_card_forward_type_box{\n        position: absolute;\n        right:28px;\n        bottom: 20px;\n        font-size: 14px;\n        z-index: 1;\n        height: auto;\n        width: 100px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .id_card_forward_type{\n        font-size: 14px;\n        z-index: 1;\n        line-height: 1.5;\n    }\n    .id_card_forward_type_eng{\n        font-size: 12px;\n        z-index: 1;\n        line-height: 1.5;\n    }\n    .id_card_foward_center_logo{\n        width: 150px;\n        height: 150px;\n        position: absolute;\n        left: 0;\n        top:0;\n        right: 0;\n        bottom: 0;\n        margin: auto;\n        background-image: url(../../../public/logo.png);\n        background-size: contain;\n        background-position: center;\n        background-repeat: no-repeat;\n        filter: opacity(20%) grayscale(100%);\n        z-index: 0;\n        border: 1px solid red;\n    }\n    .id_card_backward{\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20'%3E%3Cpath d='M 0 10 L 10 0 L 20 10 L 10 20 Z' fill='none' stroke='rgba(169,169,169,0.2)' stroke-width='0.5'/%3E%3C/svg%3E\");\n        background-size: 15px 15px; /* 縮小格子 */\n        background-position: center; /* 設定網格重複位置 */\n        \n    }\n    .id_card_backward_center{\n        position: absolute;\n        left: 0;\n        top:0;\n        right: 0;\n        bottom: 0;\n        margin: auto;\n        width: 100%;\n        height: 40px;\n        font-size: 14px;\n        line-height: 20px;\n        font-weight: bolder;\n        text-align: center;\n    }\n    .id_card_download{\n        width:226.09px;\n        height: 260px;\n        margin-left: 28px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .level{\n        height: 100px;\n    }\n    .manageLevelTitle{\n        line-height: 2;\n        margin-bottom: 5px;\n    }\n    .download_btn{\n        margin-top: 15px;\n    }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModifyInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModifyInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ModifyInfo.vue?vue&type=template&id=1aeea537&scoped=true\"\nimport script from \"./ModifyInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ModifyInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./ModifyInfo.vue?vue&type=style&index=0&id=1aeea537&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1aeea537\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport jsCookie from 'js-cookie'\n\nimport Academic from '../pages/Academic/Academic.vue'\nimport Learn from '../pages/Learn/Learn.vue'\nimport Class from '../pages/Learn/Class.vue'\nimport Post from '../pages/Post/Post.vue'\nimport Share from '../pages/Post/pages/Share.vue'\nimport Normal from '@/pages/Post/pages/Normal.vue'\nimport Login from '../pages/Login/Login.vue'\nimport StudentInfo from '@/pages/InfoPage/StudentInfo.vue'\nimport TeacherInfo from '@/pages/InfoPage/TeacherInfo.vue'\nimport StudentCourseTable from '@/pages/InfoPage/pages/StudentCourseTable.vue'\nimport TeacherCourseTable from '@/pages/InfoPage/pages/TeacherCourseTable.vue'\nimport ClientTable from '@/pages/InfoPage/pages/ClientTable.vue'\nimport Index from '@/pages/Index/Index.vue'\nimport ModifyInfo from '@/pages/InfoPage/ModifyInfo.vue'\nimport axios from 'axios'\nVue.use(VueRouter)\nconst router = new VueRouter({\n    routes:[\n        {\n            path:'/',\n            component:Index,\n        },\n        {   \n            path:'/academic',\n            component:Academic,\n            children:[\n                {\n                    path:'post',\n                    component:Post,\n                    children:[\n                        {\n                            path:'share',\n                            component:Share\n                        },\n                        {\n                            path:'',\n                            component:Normal\n                        }\n                    ]\n                },\n                {\n                    path:'learn',\n                    component:Learn\n                },\n                {\n                    path:'class',\n                    component:Class\n                },\n                {\n                    path:'login',\n                    component:Login\n                },\n                {\n                    path:'studentInfo',\n                    component:StudentInfo,\n                    children:[{\n                        path:'studentCourseTable',\n                        component:StudentCourseTable\n                    },{\n                        path:'/',\n                        redirect:'studentCourseTable'\n                    }]\n                },\n                {\n                    path:'teacherInfo',\n                    component:TeacherInfo,\n                    children:[\n                    {\n                        path:'clientTable',\n                        component:ClientTable\n                    },\n                    {\n                        path:'teacherCourseTable',\n                        component:TeacherCourseTable\n                    },\n                    {\n                        path:'/',\n                        redirect:'clientTable'\n                    }]\n                },\n                {\n                    path:'modifyInfo',\n                    component:ModifyInfo\n                },\n                {\n                    path:'/',\n                    redirect:'post'\n                },\n            ]\n        },\n    ]\n})\nrouter.beforeEach(async (to, from, next) => {\n    const token = jsCookie.get('authToken')\n    \n    // 通用驗證\n    const allowedPaths = ['/', '/academic/login','/academic/post/share'];\n    if(!allowedPaths.includes(to.path) && !token) return next('/academic/login')\n    \n    const res = await axios.post('/login/token',{save:false},{\n        headers:{\n            'x-user-token':token,\n            'x-user-fingerprint':localStorage.getItem('deviceFingerprint')\n        }\n    })\n\n    if (!allowedPaths.includes(to.path) && !(res.data.userInfo)){\n        jsCookie.remove('authToken')\n        next('/academic/login')\n        location.reload()\n        return;\n    }\n\n    // 訪問教師資料\n    else if(to.fullPath.includes('teacherInfo')){\n\n        if(res.data.userInfo && res.data.userInfo.typeEng =='teacher') return next();\n        else{\n            jsCookie.remove('authToken')\n            next('/academic/login')\n            location.reload()\n            return\n        }\n    }\n    // 訪問學生資料\n    else if(to.fullPath.includes('studentInfo')){\n\n        if(res.data.userInfo && res.data.userInfo.typeEng =='student') next();\n        else{\n            jsCookie.remove('authToken')\n            next('/academic/login')\n            location.reload()\n            return\n        }\n    }\n    return next();\n});\n\nexport default router","import Vue from 'vue'\n\nimport App from './App.vue'\nimport router from './router'\nVue.config.productionTip = false\n\n// Element UI 組件\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nVue.use(ElementUI);\n\n// v-lazy\nVue.directive('lazy', {\n  inserted(el) {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        el.src = el.dataset.src \n        observer.unobserve(el)\n      }\n    }, { threshold: 0.1 })\n\n    observer.observe(el)\n  }\n})\n\n\nnew Vue({\n  render: h => h(App),\n  router,\n  beforeCreate(){\n    // 全局事件總線\n    Vue.prototype.$bus = this;\n  } \n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkLemon_s_Universe\"] = self[\"webpackChunkLemon_s_Universe\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3385); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","mounted","$bus","$on","handleAlert","copyToClipboard","setAnonymousMode","generateFingerprint","computed","methods","title","message","type","$notify","text","navigator","clipboard","writeText","then","$emit","catch","authToken","jsCookie","get","data","res","axios","post","headers","localStorage","getItem","$currentUser","userInfo","e","storedFP","components","push","userAgent","language","platform","screen","width","height","colorDepth","plugins","Array","from","map","p","join","mimeTypes","m","Intl","DateTimeFormat","resolvedOptions","timeZone","canvas","document","createElement","ctx","getContext","textBaseline","font","fillText","canvasHash","getImageData","rawString","hashHex","window","crypto","subtle","buffer","TextEncoder","encode","hashBuffer","digest","hashArray","Uint8Array","b","toString","padStart","sha256","console","warn","setItem","component","staticClass","class","user","list_selected","$route","path","includes","on","$event","isLogin","goTo","typeEng","list_selected_flag","staticStyle","stopPropagation","openImgUpload","userImgUrl","_v","ref","uploadUserImg","_s","level","levelTitle","list","list_lock","_e","logout","account","setUserInfo","updateCurrentUser","el","$refs","click","token","file","files","$confirm","confirmButtonText","cancelButtonText","formData","FormData","append","log","value","save","$router","Date","getTime","remove","replace","Menu","checkToken","directives","rawName","search","expression","domProps","target","composing","searchCourse","length","_l","courses","id","key","goToClass","idx","bannerImg","item","url","courseName","courseId","lecturer","courseList","getCourse","keyword","trim","toLowerCase","filter","course","query","materials","pdfUrl","showUploadOption","openUpload","toggleList","chapter","viewChapter","openUpdate","dialogTableVisible","model","form","callback","$$v","$set","handleUpload","handleRemove","fileList","slot","isSending","create","dialogTableVisible2","update","handleUpload2","handleRemove2","isSending2","updateChapter","isSending3","removeChapter","isLoading","props","String","required","pdf","pageCanvases","observer","preloadCount","pdfjsLib","workerSrc","pdfWorker","loadPdf","addEventListener","handleResize","beforeUnmount","removeEventListener","disconnect","container","pdfContainer","innerHTML","httpHeaders","promise","pageNum","numPages","style","display","marginBottom","dataset","appendChild","renderTask","initObserver","err","IntersectionObserver","entries","forEach","entry","isIntersecting","parseInt","safeRenderPage","i","next","find","rendered","root","threshold","observe","pageObj","cancel","page","getPage","containerWidth","clientWidth","dpr","devicePixelRatio","viewport","getViewport","scale","scaledViewport","canvasContext","watch","newUrl","pdfViewer","currentUser","courseIdx","attachment","materialIdx","attachment2","getData","classList","toggle","$nextTick","querySelectorAll","lists","add","attachmentUrl","index","raw","_m","SelfIntro","posts","obj","showPermission","handleCommand","method","content","creator","createTime","checkPostTextOverflow","expandPostText","postImg","likeCount","isLike","toggleLikePost","openUserMessageBox","copyShareUrl","sendUserMessage","modifyPost","showPlaceholder","modifyIdx","modifyContent","getPost","getUserInfo","payload","deletePost","openModifyBox","location","protocol","host","flag","share","newPosts","concat","delete","event","wrapper","currentTarget","icon","querySelector","span","innerText","htmlContent","maxHeight","temp","wordBreak","position","visibility","lineHeight","reference","body","exceeds","offsetHeight","removeChild","msgScrollToBottom","box","closest","scrollTop","scrollHeight","postOption","userMessageBox","nextElementSibling","sendButton","textArea","previousElementSibling","postIdx","postText","openDialog","postDivScroll","handlePictureCardPreview","attachments","dialogVisible","dialogImageUrl","sendEnabled","inputKeyUpfunction","input","postAllDiv","postAll","clientHeight","beforeDestroy","student","password","login","teacher","Object","values","some","undefined","course_num","available_num","inavailable_num","initialize","status","limit","studentNum","student_num","classNum","memory","usage_memory","setStudentNum","setCourseNum","getUsageMemory","getStudent","num","students","size","parseFloat","toFixed","tableData","scopedSlots","_u","fn","scope","row","goToCourse","getCourseList","dialogFormVisible","openStudentList","stopCourse","deleteCourse","setStudentList","dialogFormVisible2","label","customFilter","studentList","pushStudentList","newCourseId","getStudentList","put","indexOf","splice","editSelf","copyFingerPrint","fingerprint","editUser","stopUser","deleteUser","scrollToSection","subTitle","banner","setTimeout","subText","refName","element","offset","top","getBoundingClientRect","pageYOffset","scrollTo","behavior","loading","modifyData","phone","mailAddress","address","openFile","handleChangeFile","levelTitleArray","downloadForward","downloadBackward","generateBarcode","JSON","stringify","JsBarcode","barcode","format","displayValue","lineColor","background","textMargin","reader","FileReader","readAsDataURL","onload","result","targetDiv","forward","html2canvas","useCORS","link","href","toDataURL","download","backward","Vue","use","VueRouter","router","routes","Index","Academic","children","Post","Share","Normal","Learn","Class","Login","StudentInfo","StudentCourseTable","redirect","TeacherInfo","ClientTable","TeacherCourseTable","ModifyInfo","beforeEach","async","to","allowedPaths","reload","fullPath","config","productionTip","ElementUI","directive","inserted","src","unobserve","h","App","beforeCreate","prototype","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}